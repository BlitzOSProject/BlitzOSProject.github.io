<html xmlns:o="urn:schemas-microsoft-com:office:office"xmlns:w="urn:schemas-microsoft-com:office:word"xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=Title content="KPL Overview"><meta name=Keywords content=""><meta http-equiv=Content-Type content="text/html; charset=macintosh"><meta name=ProgId content=Word.Document><meta name=Generator content="Microsoft Word 11"><meta name=Originator content="Microsoft Word 11"><link rel=File-List href="KPLOverview_files/filelist.xml"><title>KPL Overview</title><!--[if gte mso 9]><xml> <o:DocumentProperties>  <o:Author>Harry Porter</o:Author>  <o:Template>Normal</o:Template>  <o:LastAuthor>Harry Porter</o:LastAuthor>  <o:Revision>2</o:Revision>  <o:LastPrinted>2006-03-14T19:37:00Z</o:LastPrinted>  <o:Created>2007-09-19T17:50:00Z</o:Created>  <o:LastSaved>2007-09-19T17:50:00Z</o:LastSaved>  <o:Pages>37</o:Pages>  <o:Words>15677</o:Words>  <o:Characters>89364</o:Characters>  <o:Lines>744</o:Lines>  <o:Paragraphs>178</o:Paragraphs>  <o:CharactersWithSpaces>109745</o:CharactersWithSpaces>  <o:Version>11.773</o:Version> </o:DocumentProperties> <o:OfficeDocumentSettings>  <o:AllowPNG/> </o:OfficeDocumentSettings></xml><![endif]--><!--[if gte mso 9]><xml> <w:WordDocument>  <w:ActiveWritingStyle Lang="EN-US" VendorID="6" DLLVersion="2" NLCheck="0">1</w:ActiveWritingStyle>  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>  <w:UseMarginsForDrawingGridOrigin/> </w:WordDocument></xml><![endif]--><style><!-- /* Font Definitions */@font-face	{font-family:"Times New Roman";	panose-1:0 2 2 6 3 5 4 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Arial;	panose-1:0 2 11 6 4 2 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Courier New";	panose-1:0 2 7 3 9 2 2 5 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Geneva;	panose-1:0 2 11 5 3 3 4 4 4 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Tms Rmn";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:"Times New Roman";	mso-font-charset:77;	mso-generic-font-family:roman;	mso-font-format:other;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Helv;	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:Helvetica;	mso-font-charset:77;	mso-generic-font-family:swiss;	mso-font-format:other;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"MS Serif";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:"Times New Roman";	mso-font-charset:77;	mso-generic-font-family:roman;	mso-font-format:other;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"MS Sans Serif";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:"Times New Roman";	mso-font-charset:77;	mso-generic-font-family:swiss;	mso-font-format:other;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"New York";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:Times;	mso-font-charset:77;	mso-generic-font-family:roman;	mso-font-format:other;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:System;	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-alt:"Times New Roman";	mso-font-charset:77;	mso-generic-font-family:swiss;	mso-font-format:other;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Wingdings;	panose-1:0 5 2 1 2 1 8 4 8 7;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:"\FF2D\FF33 \660E\671D";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:\BC14\D0D5;	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:\5B8B\4F53;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\65B0\7D30\660E\9AD4;	mso-font-charset:81;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 134479873 0 1048576 0;}@font-face	{font-family:"\FF2D\FF33 \30B4\30B7\30C3\30AF";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:Century;	panose-1:0 2 4 6 4 5 5 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Verdana;	panose-1:0 2 11 6 4 3 5 4 4 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Tahoma;	panose-1:0 2 11 6 4 3 5 4 4 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Monotype Sorts";	panose-1:0 1 1 6 1 1 1 1 1 1;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:"Abadi MT Condensed Extra Bold";	panose-1:0 2 11 10 6 3 1 1 1 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Abadi MT Condensed Light";	panose-1:0 2 11 3 6 3 1 1 1 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Academy Engraved LET";	panose-1:0 2 0 0 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"American Typewriter";	panose-1:0 2 9 6 4 2 0 4 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"American Typewriter Condensed";	panose-1:0 2 9 6 6 2 0 4 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"American Typewriter Light";	panose-1:0 2 9 3 4 2 0 4 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Andale Mono";	panose-1:0 2 11 5 9 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Apple Chancery";	panose-1:0 3 2 7 2 4 5 6 6 5;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Arial Black";	panose-1:0 2 11 10 4 2 1 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Arial Narrow";	panose-1:0 2 11 5 6 2 2 2 3 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Arial Rounded MT Bold";	panose-1:0 2 15 7 4 3 5 4 3 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bank Gothic";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Baskerville;	panose-1:0 2 2 5 2 7 4 1 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Baskerville Old Face";	panose-1:0 2 2 6 2 8 5 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Baskerville Semibold";	panose-1:0 2 2 7 2 7 4 0 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bauhaus 93";	panose-1:0 4 3 9 5 2 11 2 2 12;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bell MT";	panose-1:0 2 2 5 3 6 3 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bernard MT Condensed";	panose-1:0 2 5 8 6 6 9 5 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Big Caslon";	panose-1:0 2 0 6 3 9 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Blackmoor LET";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"BlairMdITC TT-Medium";	panose-1:0 0 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni Ornaments ITC TT";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo ITC TT-Bold";	panose-1:0 0 0 7 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo ITC TT-Book";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo ITC TT-BookIta";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo OS ITC TT-Bold";	panose-1:0 0 0 7 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo OS ITC TT-Book";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo OS ITC TT-BookIt";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bodoni SvtyTwo SC ITC TT-Book";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Book Antiqua";	panose-1:0 2 4 6 2 5 3 5 3 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bookman Old Style";	panose-1:0 2 5 6 4 5 5 5 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bordeaux Roman Bold LET";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Bradley Hand ITC TT-Bold";	panose-1:0 0 0 7 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Braggadocio;	panose-1:0 4 3 11 7 13 11 2 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Britannic Bold";	panose-1:0 2 11 9 3 6 7 3 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Brush Script MT";	panose-1:0 3 6 8 2 4 4 6 7 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Calisto MT";	panose-1:0 2 4 6 3 5 5 5 3 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Century Gothic";	panose-1:0 2 11 5 2 2 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Century Schoolbook";	panose-1:0 2 4 6 4 5 5 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Chalkboard;	panose-1:0 3 5 6 2 4 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Chalkboard Bold";	panose-1:0 3 5 6 2 4 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Cochin;	panose-1:0 2 0 6 3 2 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Colonna MT";	panose-1:0 4 2 8 5 6 2 2 3 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Comic Sans MS";	panose-1:0 3 15 7 2 3 3 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Cooper Black";	panose-1:0 2 8 9 4 4 3 11 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Copperplate;	panose-1:0 2 0 5 4 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Copperplate Gothic Bold";	panose-1:0 2 14 7 5 2 2 6 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Copperplate Gothic Light";	panose-1:0 2 14 5 7 2 2 6 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Copperplate Light";	panose-1:0 2 0 6 4 3 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Cracked;	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Curlz MT";	panose-1:0 4 4 4 4 5 7 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Desdemona;	panose-1:0 4 2 5 5 2 14 3 4 5;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Didot;	panose-1:0 2 0 5 3 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Edwardian Script ITC";	panose-1:0 3 3 3 2 4 7 7 13 8;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Engravers MT";	panose-1:0 2 9 7 7 8 5 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Euphemia UCAS";	panose-1:0 2 11 5 3 4 1 2 2 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Euphemia UCAS Bold";	panose-1:0 2 11 8 3 4 1 2 2 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Euphemia UCAS Italic";	panose-1:0 2 11 5 3 4 1 2 2 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Eurostile;	panose-1:0 2 11 5 4 2 2 2 5 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Footlight MT Light";	panose-1:0 2 4 6 2 6 3 10 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Futura;	panose-1:0 2 11 6 2 2 2 4 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Futura Condensed";	panose-1:0 2 11 5 6 2 2 4 3 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Garamond;	panose-1:0 2 2 4 4 3 3 1 1 8;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Geeza Pro";	panose-1:0 2 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Geeza Pro Bold";	panose-1:0 2 0 7 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Georgia;	panose-1:0 2 4 5 2 5 4 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Gill Sans";	panose-1:0 2 11 5 2 2 1 4 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Gill Sans Light";	panose-1:0 2 11 3 2 2 1 4 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Gill Sans Ultra Bold";	panose-1:0 2 11 10 2 2 1 4 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Gloucester MT Extra Condensed";	panose-1:0 2 3 8 8 2 6 1 1 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Goudy Old Style";	panose-1:0 2 2 5 2 5 3 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Haettenschweiler;	panose-1:0 2 11 7 6 4 9 2 6 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Handwriting - Dakota";	panose-1:0 2 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Harrington;	panose-1:0 4 4 5 5 5 10 2 2 7;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Helvetica Neue";	panose-1:0 2 0 5 3 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Helvetica Neue Black Condensed";	panose-1:0 2 0 10 6 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Helvetica Neue Bold Condensed";	panose-1:0 2 0 8 6 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Helvetica Neue Light";	panose-1:0 2 0 4 3 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Helvetica Neue UltraLight";	panose-1:0 2 0 2 6 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Herculanum;	panose-1:0 2 0 5 5 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Hoefler Text";	panose-1:0 2 3 6 2 5 5 6 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Hoefler Text Ornaments";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:Impact;	panose-1:0 2 11 8 6 3 9 2 5 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Imprint MT Shadow";	panose-1:0 4 2 6 5 6 3 3 3 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:InaiMathi;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Jazz LET";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Kino MT";	panose-1:0 4 3 7 5 13 12 2 2 7;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Blackletter";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Bright";	panose-1:0 2 4 6 2 5 5 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Calligraphy";	panose-1:0 3 1 1 1 1 1 1 1 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Fax";	panose-1:0 2 6 6 2 5 5 5 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Grande";	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Handwriting";	panose-1:0 3 1 1 1 1 1 1 1 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Sans";	panose-1:0 2 11 6 2 3 5 4 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Lucida Sans Typewriter";	panose-1:0 2 11 5 9 3 5 4 3 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Marker Felt";	panose-1:0 2 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Matura MT Script Capitals";	panose-1:0 3 2 8 2 6 6 2 7 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Mistral;	panose-1:0 3 9 7 2 3 4 7 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Modern No\. 20";	panose-1:0 2 7 7 4 7 5 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Mona Lisa Solid ITC TT";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Monaco;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Monotype Corsiva";	panose-1:0 3 1 1 1 1 2 1 1 1;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"MT Extra";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:"News Gothic MT";	panose-1:0 2 11 5 4 2 2 3 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Onyx;	panose-1:0 4 5 6 2 8 7 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Optima;	panose-1:0 2 0 5 3 6 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Optima ExtraBlack";	panose-1:0 2 0 11 3 0 0 0 2 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Palatino;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Papyrus;	panose-1:0 2 11 6 2 4 2 0 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Party LET";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Perpetua Titling MT";	panose-1:0 2 2 5 2 6 5 5 2 8;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Plantagenet Cherokee";	panose-1:0 2 2 0 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Playbill;	panose-1:0 4 5 6 3 10 6 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"PortagoITC TT";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Princetown LET";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Rockwell;	panose-1:0 2 6 6 3 2 2 5 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Rockwell Extra Bold";	panose-1:0 2 6 9 3 4 5 5 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Santa Fe LET";	panose-1:0 0 0 0 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Savoye LET";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"SchoolHouse Cursive B";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"SchoolHouse Printed A";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Skia;	panose-1:0 2 13 5 2 2 2 4 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Snell Roundhand";	panose-1:0 2 0 6 3 8 0 0 9 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Snell Roundhand Black";	panose-1:0 2 0 10 4 9 0 0 9 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Snell Roundhand Bold";	panose-1:0 2 0 8 3 9 0 0 9 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Stencil;	panose-1:0 4 4 9 5 13 8 2 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Stone Sans ITC TT-Bold";	panose-1:0 0 0 7 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Stone Sans ITC TT-Semi";	panose-1:0 0 0 6 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Stone Sans ITC TT-SemiIta";	panose-1:0 0 0 6 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Synchro LET";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Trebuchet MS";	panose-1:0 2 11 6 3 2 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Type Embellishments One LET";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Webdings;	panose-1:0 5 3 1 2 1 5 9 6 7;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:"Wide Latin";	panose-1:0 2 10 10 7 5 5 5 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Wingdings 2";	panose-1:0 5 2 1 2 1 5 7 7 7;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:"Wingdings 3";	panose-1:0 5 4 1 2 1 8 7 7 7;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:"Zapf Dingbats";	panose-1:0 5 2 1 2 1 7 4 2 6;	mso-font-charset:2;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:0 0 256 0 -2147483648 0;}@font-face	{font-family:Zapfino;	panose-1:0 3 3 3 0 4 7 7 7 12;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Courier CE";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:"Geneva CE";	panose-1:0 2 11 5 3 3 4 4 4 2;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:"Helvetica CE";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:Krungthep;	panose-1:0 2 0 4 0 0 0 0 0 0;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:"Lucida Grande CE";	panose-1:0 2 11 6 0 4 5 2 2 2;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:"Monaco CE";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:Silom;	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:"Times CE";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:88;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:83886080 0 0 0 2 0;}@font-face	{font-family:Ayuthaya;	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Charcoal CY";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Geneva CY";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Helvetica CY";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Lucida Grande CY";	panose-1:0 2 11 6 0 4 5 2 2 2;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Monaco CY";	panose-1:0 0 0 4 9 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:Sathu;	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:Thonburi;	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Times CY";	panose-1:0 0 0 4 0 0 0 0 0 0;	mso-font-charset:89;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16908288 0 0 0 4 0;}@font-face	{font-family:"Apple LiGothic Medium";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:81;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 134479873 0 1048576 0;}@font-face	{font-family:"Apple LiSung Light";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:81;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 134479873 0 1048576 0;}@font-face	{font-family:BiauKai;	panose-1:0 2 1 6 1 0 1 1 1 1;	mso-font-charset:81;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 134479873 0 1048576 0;}@font-face	{font-family:"\5137\5B8B Pro";	mso-font-charset:81;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 134479873 0 1048576 0;}@font-face	{font-family:"\5137\9ED1 Pro";	mso-font-charset:81;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 134479873 0 1048576 0;}@font-face	{font-family:"Fang Song";	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:"GB18030 Bitmap";	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:Hei;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:Kai;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:Song;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\534E\6587\4EFF\5B8B;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\534E\6587\9ED1\4F53;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\534E\6587\6977\4F53;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\534E\6587\5B8B\4F53;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\534E\6587\7EC6\9ED1;	mso-font-charset:80;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 235143169 0 262144 0;}@font-face	{font-family:\FF24\FF26\FF30\52D8\4EAD\6D41;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:\FF24\FF26\FF30\6559\79D1\66F8\4F53W3;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:\FF24\FF26\FF30\884C\66F8\4F53;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:\FF24\FF26\FF30\75E9\91D1\4F53W3;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:\FF24\FF26\FF30\96B7\66F8\4F53;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\FF2D\FF33 \FF30\30B4\30B7\30C3\30AF";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\FF2D\FF33 \FF30\660E\671D";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:Osaka;	panose-1:0 2 11 6 0 0 0 0 0 0;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:Osaka\2212\7B49\5E45;	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\30D2\30E9\30AE\30CE\89D2\30B4 Pro W3";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\30D2\30E9\30AE\30CE\89D2\30B4 Pro W6";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\30D2\30E9\30AE\30CE\89D2\30B4 Std W8";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\30D2\30E9\30AE\30CE\4E38\30B4 Pro W4";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\30D2\30E9\30AE\30CE\660E\671D Pro W3";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\30D2\30E9\30AE\30CE\660E\671D Pro W6";	mso-font-charset:78;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 117702657 0 131072 0;}@font-face	{font-family:"\#PC\BA85\C870";	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:"\#\AD81\C11C\CCB4";	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:"\#\D544\AE30\CCB4";	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:"\#\D5E4\B4DC\B77C\C778A";	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:AppleGothic;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:AppleMyungjo;	panose-1:0 2 0 5 0 0 0 0 0 0;	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;}@font-face	{font-family:\AD74\B9BC;	mso-font-charset:79;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:16777216 0 103022593 0 524288 0;} /* Style Definitions */p.MsoNormal, li.MsoNormal, div.MsoNormal	{mso-style-parent:"";	margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:12.0pt;	font-family:Times;}h1	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:justify;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:1;	tab-stops:.25in .5in .75in;	font-size:48.0pt;	font-family:Times;	mso-font-kerning:0pt;}h2	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:2;	font-size:12.0pt;	font-family:Times;	text-decoration:underline;	text-underline:single;}h3	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:center;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:3;	font-size:12.0pt;	font-family:Times;	text-decoration:underline;	text-underline:single;}h4	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:center;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:4;	font-size:48.0pt;	font-family:Times;}h5	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:center;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:5;	font-size:16.0pt;	font-family:Times;	font-weight:normal;}h6	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:center;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:6;	tab-stops:.25in .5in .75in;	font-size:18.0pt;	font-family:Times;	font-weight:normal;}p.MsoHeading7, li.MsoHeading7, div.MsoHeading7	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:center;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:7;	font-size:24.0pt;	font-family:Times;}p.MsoHeading9, li.MsoHeading9, div.MsoHeading9	{mso-style-next:Normal;	margin:0in;	margin-bottom:.0001pt;	text-align:center;	mso-pagination:widow-orphan;	page-break-after:avoid;	mso-outline-level:9;	tab-stops:.25in .5in .75in;	font-size:24.0pt;	font-family:Times;	font-weight:bold;}p.MsoToc1, li.MsoToc1, div.MsoToc1	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:6.0pt;	margin-right:0in;	margin-bottom:0in;	margin-left:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:12.0pt;	font-family:Times;	font-style:italic;}p.MsoToc2, li.MsoToc2, div.MsoToc2	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:6.0pt;	margin-right:0in;	margin-bottom:0in;	margin-left:12.0pt;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:11.0pt;	font-family:Times;	font-weight:bold;}p.MsoToc3, li.MsoToc3, div.MsoToc3	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:24.0pt;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoToc4, li.MsoToc4, div.MsoToc4	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:.5in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoToc5, li.MsoToc5, div.MsoToc5	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:48.0pt;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoToc6, li.MsoToc6, div.MsoToc6	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:60.0pt;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoToc7, li.MsoToc7, div.MsoToc7	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:1.0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoToc8, li.MsoToc8, div.MsoToc8	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:84.0pt;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoToc9, li.MsoToc9, div.MsoToc9	{mso-style-update:auto;	mso-style-next:Normal;	margin-top:0in;	margin-right:0in;	margin-bottom:0in;	margin-left:96.0pt;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Times;}p.MsoHeader, li.MsoHeader, div.MsoHeader	{margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	tab-stops:center 3.0in right 6.0in;	font-size:12.0pt;	font-family:Times;}p.MsoFooter, li.MsoFooter, div.MsoFooter	{margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	tab-stops:center 3.0in right 6.0in;	font-size:12.0pt;	font-family:Times;}p.MsoBodyText, li.MsoBodyText, div.MsoBodyText	{margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:14.0pt;	font-family:Times;}table.MsoNormalTable	{mso-style-parent:"";	font-size:10.0pt;	font-family:Times;}@page Section1	{size:8.5in 11.0in;	margin:1.0in .75in 1.0in .75in;	mso-header-margin:.5in;	mso-footer-margin:.5in;	mso-title-page:yes;	mso-header:url(":KPLOverview_files:header.htm") h1;	mso-footer:url(":KPLOverview_files:header.htm") f1;	mso-first-footer:url(":KPLOverview_files:header.htm") ff1;	mso-paper-source:0;}div.Section1	{page:Section1;}--></style></head><body bgcolor=white lang=EN-US style='tab-interval:.5in'><div class=Section1><p class=MsoNormal align=center style='text-align:center'><b><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p><p class=MsoHeading7><b>An Overview of<o:p></o:p></b></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:8.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoBodyText align=center style='text-align:center'><spanstyle='font-size:48.0pt'><b>KPL<o:p></o:p></b></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:8.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoHeading9 style='tab-stops:.5in'>A Kernel Programming Language</p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'>Harry H. Porter III, Ph.D.<o:p></o:p></span></p><h5>Department of Computer Science</h5><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'>Portland State University<o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'>October 14, 2003<o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:16.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><h2><a name="_Toc468529418"></a><a name="_Toc51818307"><span style='mso-bookmark:_Toc468529418'><span style='font-size:18.0pt'>Introduction</span></span></a><spanstyle='mso-bookmark:_Toc468529418'><span style='font-size:18.0pt'><o:p></o:p></span></span></h2><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'>This documentintroduces the KPL programming language, which was designed for use in theBLITZ Operating System Project. KPL has many of the features in C++ and Java.This document is written for someone who is already familiar with C++ or Java.</span></p><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'>The primary designcriterion of the language was simplicity. The intent was to create a languagethat can be understood and acquired quickly, e.g., during a University-levelcourse. A secondary design criterion was to create a language that facilitatesreadability and reliability of programs. As a consequence, the syntaxemphasizes readability, at the expense of terseness and ease of typing.</span></p><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='mso-bookmark:_Toc468529418'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h3><span style='mso-bookmark:_Toc468529418'><a name="_Toc468530015"></a><aname="_Toc468530299"></a><a name="_Toc51818308"><span style='mso-bookmark:_Toc468530299'><spanstyle='mso-bookmark:_Toc468530015'><span style='font-size:18.0pt'>Table OfContents</span></span></span></a></span><span style='font-size:18.0pt'><o:p></o:p></span></h3><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'><!--[if supportFields]><spanstyle='font-size:14.0pt;font-style:normal'><span style='mso-element:field-begin'></span><spanstyle="mso-spacerun: yes">&nbsp;</span>TOC \o &quot;1-1&quot; \t &quot;Heading2,1,Heading 3,1&quot; <span style='mso-element:field-separator'></span></span><![endif]-->Introduction<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818307 \h <spanstyle='mso-element:field-separator'></span><![endif]-->1<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300300037000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Table Of Contents<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818308 \h <spanstyle='mso-element:field-separator'></span><![endif]-->2<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300300038000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The Hello-World Program<spanstyle='mso-tab-count:1 dotted'>.......................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818309 \h <spanstyle='mso-element:field-separator'></span><![endif]-->4<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300300039000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Packages<spanstyle='mso-tab-count:1 dotted'>...................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818310 \h <spanstyle='mso-element:field-separator'></span><![endif]-->4<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310030000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Compiling<spanstyle='mso-tab-count:1 dotted'>.................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818311 \h <spanstyle='mso-element:field-separator'></span><![endif]-->5<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310031000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Safe and Unsafe<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818312 \h <spanstyle='mso-element:field-separator'></span><![endif]-->6<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310032000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Linking and Running<spanstyle='mso-tab-count:1 dotted'>.................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818313 \h <spanstyle='mso-element:field-separator'></span><![endif]-->7<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310033000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The BLITZ Machine<spanstyle='mso-tab-count:1 dotted'>..................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818314 \h <spanstyle='mso-element:field-separator'></span><![endif]-->8<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310034000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The Header and Code Files<spanstyle='mso-tab-count:1 dotted'>......................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818315 \h <spanstyle='mso-element:field-separator'></span><![endif]-->8<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310035000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The Header File<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818316 \h <spanstyle='mso-element:field-separator'></span><![endif]-->9<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310036000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The Code File<spanstyle='mso-tab-count:1 dotted'>............................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818317 \h <spanstyle='mso-element:field-separator'></span><![endif]-->11<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310037000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Syntax and Grammar<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818318 \h <spanstyle='mso-element:field-separator'></span><![endif]-->12<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310038000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Missing Semicolons<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818319 \h <spanstyle='mso-element:field-separator'></span><![endif]-->12<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300310039000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Comments<spanstyle='mso-tab-count:1 dotted'>.................................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818320 \h <spanstyle='mso-element:field-separator'></span><![endif]-->13<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320030000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Lexical Tokens<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818321 \h <spanstyle='mso-element:field-separator'></span><![endif]-->14<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320031000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The If Statement<spanstyle='mso-tab-count:1 dotted'>......................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818322 \h <spanstyle='mso-element:field-separator'></span><![endif]-->14<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320032000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The While, Do-Until,For, and Switch Statements<span style='mso-tab-count:1 dotted'>..................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818323 \h <spanstyle='mso-element:field-separator'></span><![endif]-->15<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320033000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Basic Data Types<spanstyle='mso-tab-count:1 dotted'>....................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818324 \h <spanstyle='mso-element:field-separator'></span><![endif]-->17<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320034000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Variable Declarations<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818325 \h <spanstyle='mso-element:field-separator'></span><![endif]-->18<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320035000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Global Variables<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818326 \h <spanstyle='mso-element:field-separator'></span><![endif]-->19<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320036000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Constructed Data Types<spanstyle='mso-tab-count:1 dotted'>............................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818327 \h <spanstyle='mso-element:field-separator'></span><![endif]-->20<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320037000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Type Definitions<spanstyle='mso-tab-count:1 dotted'>......................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818328 \h <spanstyle='mso-element:field-separator'></span><![endif]-->21<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320038000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Arrays<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818329 \h <spanstyle='mso-element:field-separator'></span><![endif]-->21<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300320039000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Strings<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818330 \h <spanstyle='mso-element:field-separator'></span><![endif]-->25<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330030000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Records<spanstyle='mso-tab-count:1 dotted'>...................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818331 \h <spanstyle='mso-element:field-separator'></span><![endif]-->26<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330031000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Pointers<spanstyle='mso-tab-count:1 dotted'>...................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818332 \h <spanstyle='mso-element:field-separator'></span><![endif]-->27<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330032000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Functions<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818333 \h <spanstyle='mso-element:field-separator'></span><![endif]-->30<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330033000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Classes<spanstyle='mso-tab-count:1 dotted'>....................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818334 \h <spanstyle='mso-element:field-separator'></span><![endif]-->31<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330034000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Fields<spanstyle='mso-tab-count:1 dotted'>......................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818335 \h <spanstyle='mso-element:field-separator'></span><![endif]-->34<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330035000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Methods<spanstyle='mso-tab-count:1 dotted'>..................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818336 \h <spanstyle='mso-element:field-separator'></span><![endif]-->35<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330036000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Creating Objects<spanstyle='mso-tab-count:1 dotted'>........................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818337 \h <spanstyle='mso-element:field-separator'></span><![endif]-->37<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330037000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Interfaces<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818338 \h <spanstyle='mso-element:field-separator'></span><![endif]-->40<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330038000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Infix and PrefixMethods<span style='mso-tab-count:1 dotted'>............................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818339 \h <spanstyle='mso-element:field-separator'></span><![endif]-->41<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300330039000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Keyword Methods<spanstyle='mso-tab-count:1 dotted'>...................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818340 \h <spanstyle='mso-element:field-separator'></span><![endif]-->42<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340030000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Pointers to Functions<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818341 \h <spanstyle='mso-element:field-separator'></span><![endif]-->43<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340031000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The AssignmentStatement<span style='mso-tab-count:1 dotted'>......................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818342 \h <spanstyle='mso-element:field-separator'></span><![endif]-->46<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340032000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Type Conversions<spanstyle='mso-tab-count:1 dotted'>...................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818343 \h <spanstyle='mso-element:field-separator'></span><![endif]-->47<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340033000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Static Type Checking<spanstyle='mso-tab-count:1 dotted'>.................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818344 \h <spanstyle='mso-element:field-separator'></span><![endif]-->48<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340034000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Subtyping Among Arrayand Record Types<span style='mso-tab-count:1 dotted'>............................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818345 \h <spanstyle='mso-element:field-separator'></span><![endif]-->49<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340035000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Dynamic Type Checking<spanstyle='mso-tab-count:1 dotted'>............................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818346 \h <spanstyle='mso-element:field-separator'></span><![endif]-->50<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340036000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Pointer Casting<spanstyle='mso-tab-count:1 dotted'>.......................................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818347 \h <spanstyle='mso-element:field-separator'></span><![endif]-->51<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340037000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Operators andExpression Syntax<span style='mso-tab-count:1 dotted'>............................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818348 \h <spanstyle='mso-element:field-separator'></span><![endif]-->52<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340038000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Constants and Enums<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................ </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818349 \h <spanstyle='mso-element:field-separator'></span><![endif]-->54<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300340039000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Errors andTry-Throw-Catch<span style='mso-tab-count:1 dotted'>.................................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818350 \h <spanstyle='mso-element:field-separator'></span><![endif]-->56<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300350030000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Regarding Naming andScope Rules<span style='mso-tab-count:1 dotted'>.......................................................................................................... </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818351 \h <spanstyle='mso-element:field-separator'></span><![endif]-->57<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300350031000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Parameterized Classes<spanstyle='mso-tab-count:1 dotted'>.............................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818352 \h <spanstyle='mso-element:field-separator'></span><![endif]-->59<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300350032000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>The Debug Statement<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818353 \h <spanstyle='mso-element:field-separator'></span><![endif]-->64<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300350033000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoToc1 style='tab-stops:right dotted 503.5pt'>Conclusion<spanstyle='mso-tab-count:1 dotted'>................................................................................................................................................. </span><!--[if supportFields]><spanstyle='mso-element:field-begin'></span> PAGEREF _Toc51818354 \h <spanstyle='mso-element:field-separator'></span><![endif]-->66<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F0054006F006300350031003800310038003300350034000000</w:data></xml><![endif]--><!--[if supportFields]><span style='mso-element:field-end'></span><![endif]--><spanstyle='font-family:"Times New Roman";font-style:normal'><o:p></o:p></span></p><p class=MsoNormal align=center style='margin-left:1.0in;text-align:center;tab-stops:right dotted 6.0in'><!--[if supportFields]><span style='font-size:14.0pt'><i><span style='mso-element:field-end'></span></i></span><![endif]--><spanstyle='font-size:14.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:14.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal align=center style='text-align:center'><spanstyle='font-size:14.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h2><a name="_Toc51818309"><span style='font-size:18.0pt'>The Hello-WorldProgram</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The Hello-World program prints a message and stops. Thecode for this program is broken into two files.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The first file is named Hello.h and is called the headerfile. Header files have an extension of .h.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- This is the header filefor the &quot;Hello-World&quot; program...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><span style="mso-spacerun:yes">&nbsp;&nbsp; </span><b>header</b></span><span style='font-family:"Courier New"'>Hello<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>uses</b></span><spanstyle='font-family:"Courier New"'> System<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>functions<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>main ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endHeader<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The second file is named Hello.c and is called the codefile. Code files have an extension of .c.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- This is the code filefor the &quot;Hello-World&quot; program...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>code</b></span><spanstyle='font-family:"Courier New"'> Hello<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>function</b></span><spanstyle='font-family:"Courier New"'> main ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>print(&quot;Hello, world...\n&quot;)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFunction</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endCode<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The keywords of the language (symbols like <b>if</b><spanstyle='font-weight:normal'>, </span><b>else</b><span style='font-weight:normal'>,</span><b>while</b><span style='font-weight:normal'>, </span><b>header</b><spanstyle='font-weight:normal'>, </span><b>endHeader</b><span style='font-weight:normal'>, etc.) are shown in boldface.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818310"><span style='font-size:18.0pt'>Packages</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Each program is broken into packages and every package has aname. In this example, there is one package and it is named Hello. For eachpackage, there must be one header file and one code file. The package and itsfiles will have the same name, except for the extensions of .h and .c.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within the header file, there will be exactly one instanceof the header syntactic construct, which has this general form:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>header</b></span><spanstyle='font-family:"Courier New"'> ID <i>...other things...</i></span><spanstyle='font-family:"Courier New"'> <b>endHeader</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Likewise, the code file will contain a syntactic constructthat has the following form:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>code</b></span><spanstyle='font-family:"Courier New"'> ID <i>...other things...</i></span><spanstyle='font-family:"Courier New"'> <b>endCode</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A package will use other packages. In this example, theHello package uses the package named System. The relationship betweenpackages is made explicit in the <b>uses</b><span style='font-weight:normal'>clause.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>uses</b><span style='font-weight:normal'> clause hasthe following general form:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>uses</b></span><spanstyle='font-family:"Courier New"'> ID, ID, ..., ID<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>uses</b><span style='font-weight:normal'> clauseappears only in the header file and appears directly after the </span><b>package</b><spanstyle='font-weight:normal'> keyword and package name.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>header</b></span><spanstyle='font-family:"Courier New"'> Hello<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>uses</b></span><spanstyle='font-family:"Courier New"'> System<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endHeader<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The code in the Hello package calls a function namedprint. This function is defined in the System package. If the programmer hadfailed to include <b>uses</b><span style='font-weight:normal'> System in theheader file, the compiler would produce an error when compiling the package, tothe effect that The name print is undefined.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818311"><span style='font-size:18.0pt'>Compiling</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Next lets compile and run this program. In the examplesthat follow, assume the BLITZ system is installed on a Unix/Linux system andthat the shell prompt is %.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The unit of compilation is the package. In other words, eachpackage must be compiled separately and each compilation will process exactlyone package. Here (in pseudo-code) are the steps we must take:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>For each package...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Compile the package to produce a .s file<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Assemble the package to produce a .o file<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>Link all the object files together to produce an a.out file<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Invoke the BLITZ virtualmachine to execute the a.out file<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>First, lets compile the Hello package. The KPL compileris named kpl. (User-typed input is shown <span style='font-family:"Courier New"'><b><u>likethis</u></b></span>.)</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>kpl Hello</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>This will either print some compile-time error messages orwill produce a file called</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Hello.s<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>containing BLITZ assembly code. During the compilation, thecompiler will notice that the Hello package uses the System package. Thecompiler will read and process the header file for System. The compiler musthave access to the file named System.h. However, the code file for System(i.e., the file named System.c) does not need to be accessed when compilingHello. In fact, the code file may not yet have been written. Furthermore, ifthe System package happens to use other packages (actually, it does not), thenthe header files for those packages would also be read and processed by thecompiler.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Next, we need to assemble the .s file. The BLITZ assembleris named asm and can be run with this command:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>asm Hello.s</u><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The assembler will produce an object file, with the nameHello.o. Normally, the System package will have been compiled and assembledalready, so the files System.s and System.o will already exist. The Systempackage is supplied as part of the KPL language and the programmer should notmodify it. Here are the commands to create these files:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>kpl System -unsafe</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>asm System.s</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818312"><span style='font-size:18.0pt'>Safe and Unsafe</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For the most part, the KPL language is strongly and safelytyped. Bugs created by the programmer may cause erroneous behavior or generateerror messages, but they should not cause a crash or core dump. However, KPLis a systems programming language and, like C<span style="mso-spacerun:yes">&nbsp; </span>and C++, the programmer can use the language in ways thatwill cause a crash. For example, the programmer can set a pointer to anarbitrary value and use it to store arbitrary data into any location in memory.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, several constructs in the language are consideredunsafe. Their use could lead to a crash if the programmer makes a mistake. Ifthe KPL program never uses any unsafe constructs, all failures of the programwill be tightly controlled. Either the program will produce erroneous results,or the runtime system will catch the bug and print a nice, clean error message.So, if unsafe constructs are avoided, the programmer should not be able tocrash the system, no matter how bad the bug. On the other hand, if theprogrammer uses unsafe constructs, then it is possible for a bug to result in aprogram crash.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The compiler can be used in two modes. In unsafe mode, thefull language is allowed, including unsafe constructs. In the safe mode, thecompiler will not allow any unsafe constructs. If the programmer uses an unsafeoperation, the compiler will print an error message saying that an unsafeoperation appeared in the package.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>By default, the compiler is in safe mode. The command lineflag -unsafe must be used when compiling a package that uses any unsafe constructs.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h2><a name="_Toc51818313"><span style='font-size:18.0pt'>Linking and Running</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Now that we have compiled all the necessary packages, weneed to link them together into one executable file, which is called thea.out file.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The KPL system includes a collection of runtime supportroutines written in assembly language. All of this code is included in a singlehand-code assembly language file called Runtime.s. This file containsroutines involved in program start-up and error handling, as well as some basiccharacter I/O routines. The programmer should never modify the Runtime.sfile. Normally, the runtime routines will be assembled only once, producing afile called Runtime.o, with a command like this:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>asm Runtime.s</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The next step is to combine all of the .o object filesinto an executable file. This step is called linking and is done with a programcalled lddd. Here is the command line:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>lddd System.oHello.o Runtime.o &#8211;o Hello</u></b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The -o option indicates that the new file is to be namedHello; without it, the file would be named a.out.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Finally, we can run the program with the BLITZ virtualmachine emulator. This tool is called blitz and here is the command line toinvoke it on our executable, followed by the output. The -g option means toload the executable file into memory and begin executing it.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>% <b><u>blitz &#8211;gHello</u></b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Beginning execution...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<spanstyle="mso-spacerun: yes">&nbsp; </span>================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Hello, world...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM TERMINATION<spanstyle="mso-spacerun: yes">&nbsp; </span>================<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Without -g, the emulator will enter a command mode, wherethe user can do things like single-step the program, examine memory andregisters, etc. The BLITZ virtual machine emulator is discussed in the documenttitled The BLITZ Emulator.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>After execution completes, the virtual machine emulatorenters the command mode. Normally, the user would simply quit at this point.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>&gt; <b><u>q</u><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Number of Disk Reads<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>= 0<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Number of Disk Writes<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>= 0<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Instructions Executed<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>= 169917<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Time Spent Sleeping<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>= 0<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Total Elapsed Time<span style="mso-spacerun: yes">&nbsp; </span>= 169917<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>%<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818314"><span style='font-size:18.0pt'>The BLITZ Machine</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The BLITZ machine architecture was designed to closelyfollow contemporary RISC architectures. Although the architecture andinstruction set are somewhat simpler than what is found in most processors, thearchitecture is intended to be complete and realistic enough for theimplementation of a complete operating system.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The BLITZ virtual machine emulator completely and accuratelymodels all aspects of a real BLITZ machine. In fact, the large number ofinstructions indicated in the example above is due primarily to delaysassociated with the serial character device I/O. Like a real computer, I/Odevices like disks and character devices take time to transmit data and thesedelays are simulated.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The BLITZ machine has 32 general purpose registers, of 32bits each, and 32 floating-point registers, of 64 bits each. At any time, theCPU is executing in one of two modes. It is either in system mode (sometimescalled kernel mode) or user mode (sometimes called program mode). Certainprivileged instructions can only be executed while in system mode. The CPU haspage-table hardware, so that virtual memory can be implemented. The basicmachine has two I/O devices: a disk and a serial character interface, such asthat used to drive a terminal or modem. There are a number of hardware traps,interrupts, and exceptions that can occur during instruction execution.Examples include (1) page fault, (2) I/O completion, (3) privileged instructionviolation, (4) alignment error, and (5) the system trap instruction. There isalso a timer interrupt which makes it possible to implement time-slicedmultitasking.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The BLITZ machine architecture is described in the documentThe BLITZ Architecture, which also gives the complete instruction set and describesthe assembly language.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818315"><span style='font-size:18.0pt'>The Header and CodeFiles</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A program is made of several packages and each package isdescribed by a header file and a code file.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The header file is the specification for the package. Itprovides the external interface to that package, giving all information otherpackages will need about what is in the package. In the Hello-World example,the file Hello.h specifies the package will contain a function called mainand tells what parameters this function takes and returns. (The main functiontakes no parameters and returns no results.)</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The code file contains the implementation details for thepackage. All executable code appears in the code file. In the Hello-Worldexample, the Hello.c file contains the actual code for the main function.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>When a package is compiled, its header and code file will beparsed and processed. Also, the header files for any packages that are usedwill be parsed and processed. This also includes packages that are usedindirectly, as for example when package A uses package B, which uses package Cin turn. However, only one code file&#8212;the code file for the package beingcompiled&#8212;is parsed and processed during a compilation. In fact, the codefiles for the used packages may not even have been created yet.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example, assume that package Hello uses package System,as in the above example. When compiling Hello, the file System.c need noteven exist. It can be created later and, as long as it implements thespecification given in System.h, it can be compiled and linked with Hellowith no risk of error.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>What if a header file is used in one compilation and thenaltered before being used within the compilation of another package?<spanstyle="mso-spacerun: yes">&nbsp; </span>For example, what if we compile packageHello, then change System.h and compile the System package?<spanstyle="mso-spacerun: yes">&nbsp; </span>To prevent the errors that such asequence of events might cause, the runtime system uses a hash-based check atstart-up time to ensure (with high probability) that the object files are allconsistent.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In our example, we asked what happens when System.h ischanged after Hello has been compiled. The resulting object files (System.o andHello.o) can still be linked. It is possible that the linking will fail, but itmay complete without error. For example, the link step would fail if theprint function were eliminated altogether from the System package, but thelink step would complete if the change only involved altering the number ortypes of parameters to the print function. However, when the user tries toexecute the resulting executable file (the a.out file), the runtime systemwill detect the inconsistency during program start-up and initialization. Itwill print an error message, and terminate execution.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818316"><span style='font-size:18.0pt'>The Header File</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The following things can go into a header file:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Constant Definitions<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Global VariableDeclarations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Type Definitions<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Error Declarations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Enumerations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Function Prototypes<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Class Specifications<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Interfaces<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example header file containing examples of all ofthese sorts of components. These constructs are described in detail insubsequent sections.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>header</b></span><spanstyle='font-family:"Courier New"'> MyPack<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>uses</b></span><span style='font-family:"Courier New"'>System<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>const<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>pi = 3.1415<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>MAX = 1000<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>var<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'>x, y: <b>int</b></span><spanstyle='font-family:"Courier New"'> = -1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>perList: <b>ptr</b></span><spanstyle='font-family:"Courier New"'> <b>to</b></span><span style='font-family:"Courier New"'> PERSON_LIST<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>type<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'>PERSON_LIST = <b>record</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>val:Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>next: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> PERSON_LIST<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>endRecord<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>errors</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>MY_ERROR (id: <b>int</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>OTHER_ERROR (a,b,c: <b>char</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>enum</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>NO_ERR = 0, WARNING, NORM_ERR, FATAL_ERR <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>functions<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'>foo (a1: <b>int</b></span><spanstyle='font-family:"Courier New"'>, a2: <b>char</b></span><spanstyle='font-family:"Courier New"'>) <b>returns double</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>bar (a1, a2: <b>char</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'>printErrMess (errCode: <b>int</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>class</b></span><span style='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>superclass</b></span><spanstyle='font-family:"Courier New"'> Object<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>name: <b>ptr to array of char</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span><span style="mso-spacerun:yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>id_num:<b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>birthdate: <b>int</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'>printID ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>getAge () <b>returns</b></span><spanstyle='font-family:"Courier New"'> <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>endClass<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>interface</b></span><spanstyle='font-family:"Courier New"'> Ordered<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span><b>messages<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></b></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>less (other: <b>ptrto</b></span><span style='font-family:"Courier New"'> Ordered) <b>returns bool</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></b></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>greater (other: <b>ptrto</b></span><span style='font-family:"Courier New"'> Ordered) <b>returns bool</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>endInterface<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>endHeader<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h2><a name="_Toc51818317"><span style='font-size:18.0pt'>The Code File</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The following things can go into a code file:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Constant Definitions<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Global VariableDeclarations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Type Definitions<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Error Declarations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Enumerations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Function Definitions<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Class Specifications<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Class Implementations<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Interfaces<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Any construct that may appear in a header file may alsoappear in a code file. In addition, the code file will contain functiondefinitions and class implementations. All these things will be discussedlater, but here is an example code file. (Some material is replaced with ...to shorten this example.)</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>code</b></span><spanstyle='font-family:"Courier New"'> MyPack<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>var<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'>privateVar: <b>ptr to </b></span><spanstyle='font-family:"Courier New"'>PERSON_LIST<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>privErr: <b>int</b></span><span style='font-family:"Courier New"'> =NO_ERR<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>function </b></span><span style='font-family:"Courier New"'>foo(a1: <b>int</b></span><span style='font-family:"Courier New"'>, a2: <b>char</b></span><spanstyle='font-family:"Courier New"'>) <b>returns double<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>endFunction</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>function </b></span><span style='font-family:"Courier New"'>bar(a1, a2: <b>char</b></span><span style='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>endFunction</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span>function </b></span><spanstyle='font-family:"Courier New"'>printErrMess (errCode: <b>int</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;</span></b></span><span style='font-family:"Courier New"'><i><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>endFunction</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>behavior</b></span><span style='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>method </b></span><spanstyle='font-family:"Courier New"'>printID ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><i><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>endMethod</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span><b>method </b></span><spanstyle='font-family:"Courier New"'>getAge () <b>returns</b></span><spanstyle='font-family:"Courier New"'> <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Variable declarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>endMethod</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>endCode<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within the header and code constructs, the variouscomponents may appear in any order; they need not be in the order shown here.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818318"><span style='font-size:18.0pt'>Syntax and Grammar</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The full syntax of KPL is given in the document titledContext-Free Grammar of KPL. In the present document, a few of the grammarrules are given informally, using ellipsis to suggest missing information. Fordetails, youll want to have the grammar document handy.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In many places, the grammar makes use of end keywords. Insuch cases, there are two matching keywords: the first serves to identify asyntactic construct and the second serves to terminate the construct.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example, a class definition has the form:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> <i>...material describing the class...</i></span><spanstyle='font-family:"Courier New"'> <b>endClass</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here are some other examples.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>header</b></span><spanstyle='font-family:"Courier New"'> <i>...</i></span><span style='font-family:"Courier New"'> <b>endHeader</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>record</b></span><spanstyle='font-family:"Courier New"'> <i>...</i></span><span style='font-family:"Courier New"'> <b>endRecord</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>interface</b></span><spanstyle='font-family:"Courier New"'> <i>...</i></span><span style='font-family:"Courier New"'> <b>endInterface<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>if </b></span><spanstyle='font-family:"Courier New"'>...<b> endIf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>while </b></span><spanstyle='font-family:"Courier New"'>...<b> endWhile</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that some keywords contain uppercase characters, whichserve to make those keywords more readable. KPL is case sensitive, so thismakes the language a little more difficult to type. However, it follows thegeneral KPL philosophy that readability is more important than writability. Thegoal is a language whose programs are easier to read, comprehend, and debug.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818319"><span style='font-size:18.0pt'>Missing Semicolons</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Many programming languages (like C++ and Java) use thesemicolon as a statement terminator. However, in KPL, there is no statementterminator. The grammar has been designed carefully to avoid any ambiguitiesthat might arise.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Normally, every statement would be placed on a differentline, although this is not required. For example, the following two statements:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a = b + c<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = e * f<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>could be placed on the same line:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a = b + c<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = e * f<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Although placing two statements on one line is notrecommended, the compiler parses it the same as if they were on separate lines.The lack of statement terminators in the language is intended to make theresulting programs more readable by reducing typographic clutter.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818320"><span style='font-size:18.0pt'>Comments</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL uses two styles of commenting. In the first style,everything after two hyphens through end-of-line is a comment.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = y &#8211; 2<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>-- Adjust y a little<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>This is similar to the comment convention in C++ and Java,which use //, but the hyphen is used since it stands out more.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The second comment convention is /* through */ which is alsoused in C++ and Java.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = y &#8211; 2<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>/* This comment can<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>span multiple lines */<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The second style of comments can be nested, unlike in C++and Java. This makes it easy to disable a block of code which itself containscomments or disabled code.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>/* Disable this code...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x = a-2<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y = c*7<spanstyle="mso-spacerun: yes">&nbsp; </span>/* multiply by seven */<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>z = b+5<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>*/<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h2><a name="_Toc51818321"><span style='font-size:18.0pt'>Lexical Tokens</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The KPL grammar uses several types of tokens. Here are someexamples of the different types of tokens. Lexically, KPL is quite similar toJava and C++.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Examples<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=====================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KEYWORD<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>if</b></span><span style='font-family:"Courier New"'>, <b>while</b></span><spanstyle='font-family:"Courier New"'>, <b>endWhile</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>INTEGER<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>42, 0x1234abcd<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>DOUBLE<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>3.1415, 6.022e23<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>CHAR<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>'a', '\n'<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>STRING<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&quot;hello&quot;, &quot;\t\n&quot;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>ID<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>x, my_var_name, yPos<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>OPERATOR<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;=, &gt;, +, -<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>MISC PUNCTUATION<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(,), :, ., ,, ;, =<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818322"><span style='font-size:18.0pt'>The If Statement</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>if</b><span style='font-weight:normal'> statement inKPL differs from Java or C++ in that it uses the </span><b>if</b><spanstyle='font-weight:normal'> ... </span><b>endIf</b><span style='font-weight:normal'> syntax instead of braces for grouping. Here is an example.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> x &gt; y<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>if</b></span><span style='font-family:"Courier New"'> (x &gt; y) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>max = x<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>max = x;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>min = y<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>min = y;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>else</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>} <b>else</b></span><span style='font-family:"Courier New"'> {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>max = y<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>max = y;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>min = x<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>min = x;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In Java and C++, the conditional expression must be enclosedin parentheses, but in KPL the parentheses are not required. Of course, theymay be included since all expressions may be enclosed in parentheses.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If there is only one statement in the then or else part,the braces can be omitted in Java or C++. However, in KPL, the <b>endIf</b><spanstyle='font-weight:normal'> keyword is always used.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> x &gt; y<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>if</b></span><span style='font-family:"Courier New"'> (x &gt; y)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>max = x<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>max = x;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In Java and C++, braces are used to group multiplestatements so they can be used in contexts requiring a single statement. Otherlanguages use begin...end. KPL is different; it has no such syntacticconstruct for grouping statements. Instead, any context where a statement maybe used (such as the body of an <b>if</b><span style='font-weight:normal'> or </span><b>while</b><spanstyle='font-weight:normal'>) may contain a sequence of zero or more statements.The proper grouping is always determined by the placement of keywords like </span><b>endIf</b><spanstyle='font-weight:normal'>, </span><b>endWhile</b><span style='font-weight:normal'>, and so on.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL also has a single <b>elseIf</b><span style='font-weight:normal'> keyword, which can be used to make nested </span><b>if </b><spanstyle='font-weight:normal'>statements more readable:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>Nested if example<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Equivalent, using <b>elseIf</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>=================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>========================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> x == 1<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>if</b></span><span style='font-family:"Courier New"'> x == 1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>z = a<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>z = a<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>else</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>elseIf</b></span><span style='font-family:"Courier New"'> x == 2<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> x == 2<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>z = b<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>z =b<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>elseIf</b></span><span style='font-family:"Courier New"'> x == 3<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>else</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>z = c<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> x == 3<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>elseIf</b></span><spanstyle='font-family:"Courier New"'> x == 4<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>z = c<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>z = d<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>else</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>else</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> x == 4<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>z = e <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>z = d <span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>endIf</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>else<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>z = e<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818323"><span style='font-size:18.0pt'>The While, Do-Until,For, and Switch Statements</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>while</b><span style='font-weight:normal'> statementin KPL looks similar to Java and C++. One difference is that KPL uses the </span><b>while</b><spanstyle='font-weight:normal'> and </span><b>endWhile</b><span style='font-weight:normal'> keywords instead of braces to group the statements of the body. Also,the conditional expression does not have to have parentheses.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>while</b></span><spanstyle='font-family:"Courier New"'> n &gt; 0<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>while</b></span><spanstyle='font-family:"Courier New"'> (n &gt; 0) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y = y*2<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>y = y*2;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endWhile</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has a <b>do</b><span style='font-weight:normal'>-</span><b>until</b><spanstyle='font-weight:normal'> statement, which is similar to the </span><b>do</b><spanstyle='font-weight:normal'>-</span><b>while</b><span style='font-weight:normal'>statement in Java and C++. (The only difference is that the terminationcondition in KPL is reversed from Java/C++, and KPL uses the keyword </span><b>until</b><spanstyle='font-weight:normal'> instead of </span><b>while</b><spanstyle='font-weight:normal'>.)</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>do</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>do</b></span><spanstyle='font-family:"Courier New"'> {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>n = n-1<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>n =n-1;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>until</b></span><spanstyle='font-family:"Courier New"'> n &lt;= 0<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>} <b>while</b></span><span style='font-family:"Courier New"'> (n &gt;o);<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, the <b>for</b><span style='font-weight:normal'>statement looks similar to Java and C++, except the </span><b>endFor</b><spanstyle='font-weight:normal'> keyword is used instead of braces.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>for</b></span><spanstyle='font-family:"Courier New"'> (n=1; n&lt;MAX; n=n*2)<spanstyle="mso-spacerun: yes">&nbsp; </span><b>for</b></span><spanstyle='font-family:"Courier New"'> (n=1; n&lt;MAX; n=n*2) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endFor</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There is a second form of the <b>for</b><spanstyle='font-weight:normal'> statement which is given in the next example. Wealso give an equivalent in Java and C++.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>for</b></span><spanstyle='font-family:"Courier New"'> i = 1 <b>to</b></span><spanstyle='font-family:"Courier New"'> 100 <b>by</b></span><span style='font-family:"Courier New"'> 3<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>for</b></span><spanstyle='font-family:"Courier New"'> (i=1; i&lt;=100; i=i+3) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endFor</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form is:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>for</b></span><spanstyle='font-family:"Courier New"'> LValue = Expr1 <b>to</b></span><spanstyle='font-family:"Courier New"'> Expr2 <b>by</b></span><spanstyle='font-family:"Courier New"'> Expr3 <i>...statements...</i></span><spanstyle='font-family:"Courier New"'> <b>endFor</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>by</b><span style='font-weight:normal'> <i>Expr3</i></span>clause is optional; an increment of 1 is the default if it is missing. The loopalways counts upward. In other words, the termination test is:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>if LValue &gt; Expr3 thenterminate the loop<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <i>LValue</i><span style='font-style:normal'> and the 3expressions should be of type <b>int</b></span>. There is also a form where <i>LValue</i><spanstyle='font-style:normal'>, </span><i>Expr1</i><span style='font-style:normal'>,and </span><i>Expr2</i><span style='font-style:normal'> have type pointer.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>This second form of the <b>for</b><span style='font-weight:normal'> loop is not really necessary since the programmer can always achievethe same effect by using a traditional, C-like version of the </span><b>for</b><spanstyle='font-weight:normal'> statement. The primary reason for including thesecond form is that it makes some loops a little easier for beginningprogrammers to read and get right.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, the <b>break</b><span style='font-weight:normal'>and </span><b>continue</b><span style='font-weight:normal'> statements work thesame as in Java and C++. They may be used in </span><b>while</b><spanstyle='font-weight:normal'>, </span><b>for</b><span style='font-weight:normal'>,and </span><b>do</b><span style='font-weight:normal'>-</span><b>until</b><spanstyle='font-weight:normal'> statements. For example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>while</b></span><spanstyle='font-family:"Courier New"'> n &gt; 0<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>while</b></span><span style='font-family:"Courier New"'> (n &gt; 0) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>... <spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> ...<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>if</b></span><span style='font-family:"Courier New"'> (...) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>break<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><b>break</b></span><spanstyle='font-family:"Courier New"'>;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endIf</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endWhile</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>switch</b><span style='font-weight:normal'> statementlooks similar to the </span><b>switch</b><span style='font-weight:normal'> statementin Java and C++.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>switch</b></span><spanstyle='font-family:"Courier New"'> i<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>switch</b></span><span style='font-family:"Courier New"'> (i) {<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>case</b></span><spanstyle='font-family:"Courier New"'> 2:<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>case</b></span><span style='font-family:"Courier New"'> 2:<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>case</b></span><spanstyle='font-family:"Courier New"'> 4:<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>case</b></span><span style='font-family:"Courier New"'> 4:<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><i>...statements...</i></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i>...statements...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>break<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><b>break</b></span><spanstyle='font-family:"Courier New"'>;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>case</b></span><spanstyle='font-family:"Courier New"'> 1:<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>case</b></span><span style='font-family:"Courier New"'> 1:<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>case</b></span><spanstyle='font-family:"Courier New"'> 3:<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>case</b></span><span style='font-family:"Courier New"'> 3:<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>case</b></span><spanstyle='font-family:"Courier New"'> 5:<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>case</b></span><span style='font-family:"Courier New"'> 5:<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><i>...statements...</i></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i>...statements...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>break<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun: yes">&nbsp;</span><b>break</b></span><spanstyle='font-family:"Courier New"'>;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>default</b></span><spanstyle='font-family:"Courier New"'>:<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>default</b></span><span style='font-family:"Courier New"'>:<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><i>...statements...</i></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i>...statements...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endSwitch </b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Just as in Java and C++, the <b>break</b><spanstyle='font-weight:normal'> statement is used to jump to the end of the </span><b>switch</b><spanstyle='font-weight:normal'> statement; execution will fall through to the nextgroup of statements if there is no </span><b>break</b><span style='font-weight:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818324"><span style='font-size:18.0pt'>Basic Data Types</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has the following basic types of data.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Type<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Example Values<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>======================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>int</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>123, -57,0xabcd4321<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>double</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>3.1415, -5.2e10<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>char</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>'a', '\n'<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>bool</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>true</b></span><span style='font-family:"Courier New"'>, <b>false</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Values of type <b>int</b><span style='font-weight:normal'>are always represented as 32-bit signed values, stored in twos complement.Values of type </span><b>double</b><span style='font-weight:normal'> are alwaysstored using the IEEE 64-bit floating-point standard.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Even though KPL was designed for one particular CPUarchitecture, the language makes it clear exactly how <b>int</b><spanstyle='font-weight:normal'> and </span><b>double</b><span style='font-weight:normal'> values will be represented so that each program will executepredictably and identically, regardless of which machine it runs on.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL uses the ASCII system, and the usual back-slash escapesmay be used in character and string constants.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There are two values of type <b>bool</b><spanstyle='font-weight:normal'>, represented by the keywords </span><b>true</b><spanstyle='font-weight:normal'> and </span><b>false</b><span style='font-weight:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>C++ traces its roots back to C, in which <b>int</b><spanstyle='font-weight:normal'>s were used for Boolean values. KPL is a little moreparticular about conditional expressions than C and C++. In KPL, there is noimplicit coercion from </span><b>int</b><span style='font-weight:normal'>s to </span><b>bool</b><spanstyle='font-weight:normal'>s; the programmer must make the test explicit.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>========================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> i != 0 ...<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> (i) ...</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818325"><span style='font-size:18.0pt'>Variable Declarations</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Variables are declared using a syntax that is shown in thenext example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Javaand C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>========================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var </b></span><spanstyle='font-family:"Courier New"'>x: <b>int</b></span><span style='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>int</b></span><spanstyle='font-family:"Courier New"'> x;</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Several variables can be declared at once, however the <b>var</b><spanstyle='font-weight:normal'> keyword must appear only once, as shown next. Also,variables may be given initial values, if desired.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java and C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>========================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>x,y,z: <b>char</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;</span>char</b></span><span style='font-family:"Courier New"'> x,y,z;<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>a,b: <b>double</b></span><spanstyle='font-family:"Courier New"'> = 1.5<b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>double</b></span><spanstyle='font-family:"Courier New"'> a = 1.5, b = 1.5;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i,j: <b>int</b></span><spanstyle='font-family:"Courier New"'> = f(a)<span style="mso-spacerun: yes">&nbsp;</span><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>int</b></span><spanstyle='font-family:"Courier New"'> i = f(a), j = i;</span><b><o:p></o:p></b></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Any variable that is not explicitly initialized will be setto binary zeros. Thus, it is more difficult in KPL than in C++ to pick uprandom data values from uninitialized memory. Here are the zero values for thebasic types:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>Type<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Default Initial Value<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=====================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>int</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>0<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>double</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>+0.0<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>char</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>'\0'<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>bool</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>false</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to ...</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>null</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Records and objects will have their fields initialized totheir zero values. Arrays are initialized by default to have size zero, whichwill trigger an error if an attempt is made to access an element.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818326"><span style='font-size:18.0pt'>Global Variables</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Every variable is either a local variable or a globalvariable. Local variables are declared at the beginning of functions andmethods. Local variables only exist while the function or method is beingexecuted.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Any variable that is declared outside of a function ormethod is called a global variable. Each global variable is placed in afixed, unchanging memory location. Consequently, each global variable existsthroughout the execution of the program.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Global variables may be declared either in a header file orin a code file. Where it is declared determines the visibility of the globalvariable.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Global variables declared in a header file can be accessedfrom anywhere in that package and anywhere in any package that uses the packagecontaining the declaration. However, variables declared in a code file areaccessible only from the code portion of the package containing thedeclaration. Thus, there is a facility for information hiding. A globalvariable is either shared with other packages (by placing its declaration inthe header file) or the variable is private and local to a single package (bydeclaring it in the code file).</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>All variables&#8212;local and global&#8212;will beinitialized. If an initializing expression is provided, it is used; if not, thevariable will be initialized to its zero value.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h2><a name="_Toc51818327"><span style='font-size:18.0pt'>Constructed DataTypes</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has the following complex data types:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Type<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Examples<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>================================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Arrays<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>array</b></span><span style='font-family:"Courier New"'> [10] <b>ofdouble</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Pointers<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>ptrto array</b></span><span style='font-family:"Courier New"'> [10] <b>of double</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Records<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>record<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>val:<b> double<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>next:<b> ptr to</b></span><spanstyle='font-family:"Courier New"'> MY_REC<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>endRecord<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Functions<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>function</b></span><span style='font-family:"Courier New"'> (a,b: <b>int</b></span><spanstyle='font-family:"Courier New"'>) <b>returns bool<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>Classes<b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>class</b></span><span style='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>Interfaces<b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>interface </b></span><span style='font-family:"Courier New"'>Taxable<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>endInterface<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>These will be discussed in subsequent sections of thisdocument.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In addition, there are three somewhat unusual types, whichare not used as frequently as other types:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>anyType<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>typeOfNull</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>void</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The type <b>anyType</b><span style='font-weight:normal'>subsumes all other types. It can only be used in certain contexts. For example,we cannot have a variable with type </span><b>anyType</b><spanstyle='font-weight:normal'>, since the compiler cannot know how many bytes willbe needed to store the value. But we might have the following type:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>ptr to anyType</b></span><b><o:p></o:p></b></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The type <b>typeOfNull</b><span style='font-weight:normal'>would not normally be used by the programmer. This type has only one value, thenull pointer, which is represented with the keyword </span><b>null</b><spanstyle='font-weight:normal'>. The </span><b>null</b><span style='font-weight:normal'> value is a pointer whose value is zero.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The type <b>void</b><span style='font-weight:normal'> isused in only in conjunction with pointers, as in</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>ptr to void</b></span><b><o:p></o:p></b></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Normally, all pointer types are type-checked. The use of <b>void</b><spanstyle='font-weight:normal'> effectively turns off type checking for pointers. Avalue of type </span><b>ptr to void</b><span style='font-weight:normal'> can beassigned to/from any other pointer type. The use of type </span><b>ptr to void</b><spanstyle='font-weight:normal'> is unsafe in the sense discussed earlier in thisdocument.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818328"><span style='font-size:18.0pt'>Type Definitions</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has a type definition construct. Here is an example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>type</b></span><spanstyle='font-family:"Courier New"'> MY_REC = <b>record</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>val: <b>double</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>next: <b>ptr to</b></span><span style='font-family:"Courier New"'>MY_REC<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b>endRecord</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Such a definition then allows MY_REC to be used instead ofhaving to re-type the full type everywhere it is needed.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form is</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>type</b></span><spanstyle='font-family:"Courier New"'> ID = <i>...type...</i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;</span>ID = <i>...type...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...</i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;</span>ID = <i>...type...</i></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example showing that several type definitions canfollow the <b>type</b><span style='font-weight:normal'> keyword.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>type</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MY_PTR = <b>ptrto</b></span><span style='font-family:"Courier New"'> PERSON_LIST<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Used here</span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MY_ARRAY = <b>array</b></span><spanstyle='font-family:"Courier New"'> [100] <b>of </b></span><spanstyle='font-family:"Courier New"'>PERSON_LIST<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>--<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>...and here</span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PERSON_LIST = <b>record</b></span><spanstyle='font-family:"Courier New"'> ... <b>endRecord</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- But, defined here</span><b><o:p></o:p></b></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Notice that the type PERSON_LIST is used before it isdefined. This is okay and this occurs in other places as well. For example, aclass may be used at one point in a source code file and defined at a laterpoint in that file.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818329"><span style='font-size:18.0pt'>Arrays</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Array types have the following general form:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>array</b></span><spanstyle='font-family:"Courier New"'> [ <i>...SizeExpr...</i></span><spanstyle='font-family:"Courier New"'> ] <b>of</b></span><span style='font-family:"Courier New"'> <i>...type...</i></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example variable declaration using an array type:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var </b></span><spanstyle='font-family:"Courier New"'>a: <b>array</b></span><span style='font-family:"Courier New"'> [100] <b>of double</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <i>SizeExpr</i><span style='font-style:normal'> givesthe number of elements in the array and must be statically computable so thatthe compiler can determine how many bytes to allocate for this variable.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The numbering of the array elements begins at zero, so thisarray has elements</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>a[0], a[1], ... a[99]</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Array elements can be accessed (i.e., read and updated)using the normal bracket notation. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>a[i] = x<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>y = a[foo(j)+k]</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, arrays always carry their sizes along with them.Every attempt to access an array element will be checked at runtime to ensurethe index expression is within the bounds of the array. If an attempt is madeto access an array element that is out of bounds, a runtime error will haltexecution at that moment. Therefore, the notorious buffer overrun errors fromC/C++ cannot occur in KPL when arrays are used.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There are two ways to create an array: the <b>new</b><spanstyle='font-weight:normal'> expression and the </span><b>alloc</b><spanstyle='font-weight:normal'> expression. Both have a similar syntax differingonly in the keyword used, although each has a very different meaning.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>new</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun: yes">&nbsp;&nbsp;</span><i>...ArrayType...</i></span><span style='font-family:"Courier New"'> { <i>...Initialization...</i></span><spanstyle='font-family:"Courier New"'> }<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>alloc</b></span><spanstyle='font-family:"Courier New"'> <i>...ArrayType...</i></span><spanstyle='font-family:"Courier New"'> { <i>...Initialization...</i></span><spanstyle='font-family:"Courier New"'> }<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>(Here the braces are used directly, and do not indicatemultiple occurrences.)</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>new</b><span style='font-weight:normal'> expressioncreates a new array value and returns it. For example, the following willinitialize the variable a by setting all its elements to the value&#8211;1.23.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>a = <b>new</b></span><span style='font-family:"Courier New"'> <b>array</b></span><span style='font-family:"Courier New"'> <b>ofdouble</b></span><span style='font-family:"Courier New"'> { 100 <b>of</b></span><spanstyle='font-family:"Courier New"'> &#8211;1.23 }<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>A <b>new</b><span style='font-weight:normal'> expression is an R-Value, not an L-Value. In this way it is similar toan </span><b>int</b><span style='font-weight:normal'> constant. For example,you cannot ask for its address, although you could ask for the address ofvariable a.</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>Note that the <i>SizeExpr</i><spanstyle='font-style:normal'> in the </span><i>ArrayType</i><spanstyle='font-style:normal'> after the <b>new</b></span> keyword is normally leftout, since it is redundant.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>a = <b>new</b></span><span style='font-family:"Courier New"'> <b>array</b></span><span style='font-family:"Courier New"'> <b>ofdouble</b></span><span style='font-family:"Courier New"'> { 100 <b>of</b></span><spanstyle='font-family:"Courier New"'> &#8211;1.23 }<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>a = <b>new</b></span><span style='font-family:"Courier New"'> <b>array</b></span><span style='font-family:"Courier New"'>[100] <b>of double</b></span><span style='font-family:"Courier New"'> { 100 <b>of</b></span><spanstyle='font-family:"Courier New"'> &#8211;1.23 }<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>-- Equivalent<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>The <b>alloc</b><spanstyle='font-weight:normal'> expression allocates memory on the heap,initializes the array, and returns a pointer to it. Here is an example of the </span><b>alloc</b><spanstyle='font-weight:normal'> expression:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var </b></span><spanstyle='font-family:"Courier New"'>p: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> <b>array</b></span><span style='font-family:"Courier New"'> [5] <b>of int<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>p = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> <b>array</b></span><span style='font-family:"Courier New"'> <b>of int</b></span><span style='font-family:"Courier New"'> {0, 11, 22, 33, 44 }<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Elements of an array allocated on the heap may be accessedusing the bracket notation. Whenever brackets are applied to a pointer to anarray&#8212;instead of to an array directly&#8212;a pointer dereferencingoperation will be automatically inserted by the compiler. </p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>p[i] = ...<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- p is<spanstyle="mso-spacerun: yes">&nbsp; </span>a pointer<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>... = p[j]</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Every element of a newly created array (whether created in a<b>new</b><span style='font-weight:normal'> expression or an </span><b>alloc</b><spanstyle='font-weight:normal'> expression) must be given an initial value. Thevalues are listed in order between the braces. A single value may be copiedmany times using the syntax</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><i>CountExpression</i></span><spanstyle='font-family:"Courier New"'> <b>of</b></span><span style='font-family:"Courier New"'> <i>ValueExpression</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example 100 <b>of</b><span style='font-weight:normal'>&#8211;1.234 will initialize 100 elements to the same floating point value.Both the <i>CountExpression</i></span> and the <i>ValueExpression</i><spanstyle='font-style:normal'> may be complex expressions, evaluated at runtime.Here are more examples of array creation and initialization:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr1 = <b>alloc array</b></span><spanstyle='font-family:"Courier New"'> [13] <b>of double</b></span><spanstyle='font-family:"Courier New"'> { 1.1, 2.2, 10 <b>of</b></span><spanstyle='font-family:"Courier New"'> 3.3, 4.4 }<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr2 = <b>alloc array</b></span><spanstyle='font-family:"Courier New"'> [n+m] <b>of double</b></span><spanstyle='font-family:"Courier New"'> { n <b>of</b></span><span style='font-family:"Courier New"'> 0.0, m <b>of </b></span><span style='font-family:"Courier New"'>9.999}<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr3 = <b>alloc array</b></span><spanstyle='font-family:"Courier New"'> [f(k)] <b>of double</b></span><spanstyle='font-family:"Courier New"'> { f(k) <b>of</b></span><spanstyle='font-family:"Courier New"'> g(x)*0.5 }</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Often the programmer will work with dynamic arrays, whosesize is not known at compile time. In such cases, pointers to arrays must beused and the array must be placed on the heap.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In a dynamic array type, the <i>SizeExpr</i><spanstyle='font-style:normal'>, along with the brackets, is left out:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>array</b></span><spanstyle='font-family:"Courier New"'> <b>of</b></span><span style='font-family:"Courier New"'> <i>...type...</i></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> dynArr: <b>ptr to array of double<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>dynArr = <b>alloc array</b></span><spanstyle='font-family:"Courier New"'> <b>of double</b></span><spanstyle='font-family:"Courier New"'> { n+m <b>of</b></span><spanstyle='font-family:"Courier New"'> 0.0 }<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>dynArr [i] = dynArr[j]</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The array size will be inferred from the number of initialvalues in the initialization part. When the array is created at runtime, theexpression n+m will be evaluated to determine the amount of memory to beallocated.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To determine the size of a dynamic array at runtime, theprogrammer can use the built-in postfix operator <b>arraySize</b><spanstyle='font-weight:normal'>. This expression returns the number of elements inthe array.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>i = dynArr <b>arraySize</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>-- In this example, returns n+m</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the previous examples, the type of the array elements hasbeen a simple type like <b>int</b><span style='font-weight:normal'> or </span><b>double</b><spanstyle='font-weight:normal'>, but the element type can be any type, even anotherarray. Here is an example of a 2 dimensional array, which is nothing more thanan array of arrays:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var </b></span><spanstyle='font-family:"Courier New"'>arr_2D: <b>array</b></span><spanstyle='font-family:"Courier New"'> [100] <b>of array</b></span><spanstyle='font-family:"Courier New"'> [500] <b>of double</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There is a syntactic shorthand for specifying arrays ofseveral dimensions. For example, the previous example could also be written asfollows, with no change in meaning. The compiler will simply expand thefollowing code into the code shown directly above.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var </b></span><spanstyle='font-family:"Courier New"'>arr_2D: <b>array</b></span><spanstyle='font-family:"Courier New"'> [100,500] <b>of double</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For array types with more than one dimension, the programmermust specify all sizes, except possibly the first. In other words, only thefirst dimension may be dynamic. The remaining dimensions must be staticallyknown so that compiler can create the proper address calculations.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The grammar allows the asterisk to be used for array typesof higher dimension, when the first dimension is dynamic. The asterisk may onlyappear in the first dimension. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> arr_3D: <b>ptr to </b></span><spanstyle='font-family:"Courier New"'>array [*, 5, 25] <b>of double<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is some code to initialize the array:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr_3D = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> <b>array</b></span><span style='font-family:"Courier New"'> [*,5,25] <b>of double</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{ 100 <b>of new array</b></span><span style='font-family:"Courier New"'>[5,25] <b>of double</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{ 5 <b>of new array of double</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{ 25 <b>of</b></span><span style='font-family:"Courier New"'> -9.999 } }}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To access elements in a multi-dimensional array, severalindex expressions must be provided, separated by commas. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = arr_3D [a,b+3,c]<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Array accessing, as illustrated above, is also nothing morethan a syntactic shorthand for a more complex expression. For example, thefollowing expressions are completely synonymous:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr_3D<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>[a,<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>b+3,<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>c]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr_3D<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>[a]<span style="mso-spacerun:yes">&nbsp; </span>[b+3]<span style="mso-spacerun: yes">&nbsp; </span>[c]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>((arr_3D [a]) [b+3]) [c]<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the case of arrays with dimension greater than 1, the <b>arraySize</b><spanstyle='font-weight:normal'> expression returns the size of the first dimensiononly.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>i = arr_3D <b>arraySize</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Since each element in a 3 dimensional array is itself a 2dimensional array, we could always write something like:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>j = arr_3D[0] <b>arraySize</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Sets j to 5</span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>k = arr_3D[0,0] <b>arraySize</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>-- Sets k to 25</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Each singly-dimensioned array is stored along with a 4-byteinteger giving the number of elements. This count precedes the first element.For example, the array</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> a: <b>array</b></span><spanstyle='font-family:"Courier New"'> [100] <b>of double</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>would require 4 + 100*8 bytes of storage (i.e., 804 bytes),since each double value requires 8 bytes.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>When asking for the address of arrays and array elements,note that the address of the array is always 4 bytes less than the address ofthe first element, since the array size is stored directly before the firstelement.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>&amp;a[0] == &amp;a + 4</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818330"><span style='font-size:18.0pt'>Strings</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Strings are represented as pointers to arrays of characters.For example, the following is type-correct:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> str: <b>ptr to array of char</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>str = &quot;hello&quot;</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>We can access the elements of the string, just as we accessany array:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> ch: <b>char</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>ch = str[1]<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- sets ch to 'e'<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>str[3] = 'k'<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>-- now str points to&quot;helko&quot;</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that this differs substantially from how strings aredealt with in C/C++. In KPL, there is not necessarily a terminating ASCIInull character, although it is certainly possibly to add one:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>str = &quot;hello\0&quot;</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The System package includes the following routines toprint data:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>print (s: ptr to array ofchar)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>printInt (i: int)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>printHex (i: int)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- prints, e.g., 0x0012ABCD<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>printChar (c: char)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- printsnon-printables as, e.g., \x05<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>printBool (b: bool)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- prints&quot;TRUE&quot; or &quot;FALSE&quot;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>printDouble (d: double)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>nl ()<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Short for printChar ('\n')<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>print (&quot;The value of'i' is &quot;)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>printInt (i)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>nl ()<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Each new string constant appearing in a program will cause anew array to be created.<span style="mso-spacerun: yes">&nbsp; </span>Forexample, the following code will create two arrays, even though the stringconstants contain the same characters:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>str1 = &quot;hello&quot;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><span style="mso-spacerun:yes">&nbsp;&nbsp; </span>str2 = &quot;hello&quot;<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>All string arrays will be placed in the .data segment andmay therefore be updated.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818331"><span style='font-size:18.0pt'>Records</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example using record types:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>type </b></span><spanstyle='font-family:"Courier New"'>MY_REC = <b>record</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>val: <b>double</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>next: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> MY_REC<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><spanstyle="mso-spacerun: yes">&nbsp;</span></b></span><span style='font-family:"Courier New"'><span style="mso-spacerun: yes">&nbsp;&nbsp;</span><b>endRecord<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> r: MY_REC<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>new</b><span style='font-weight:normal'> expressioncan be used to create a record value. Each field of the record must beinitialized within the braces.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r = <b>new</b></span><spanstyle='font-family:"Courier New"'> MY_REC { val=1.5, next=<b>null </b></span><spanstyle='font-family:"Courier New"'>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To access a field in the record, the infix-dot operator isused:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = r.val<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r.val = 2.56<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>alloc</b><span style='font-weight:normal'> expressioncan be used to allocate a record and place it in the heap:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> recPtr: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> MY_REC<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>recPtr = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> MY_REC { val=1.5, next=<b>null </b></span><spanstyle='font-family:"Courier New"'>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL guarantees to the programmer exactly how all data values(including records, arrays, and objects) are represented in memory. In the caseof records and objects, the fields are placed in memory sequentially in order,with extra padding bytes inserted where necessary to ensure proper alignment.Every data value will be word aligned, except <b>char</b><spanstyle='font-weight:normal'> and </span><b>bool</b><span style='font-weight:normal'> values, which are each stored in a byte.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818332"><span style='font-size:18.0pt'>Pointers</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL is similar to C++ in that all pointers are explicit andthe programmer can choose whether to work with data or with pointers to data.In Java, the pointers are all implicit and the programmer has less control overrepresentation.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Consider these two variables:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> r: MY_REC<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p: <b>ptrto</b></span><span style='font-family:"Courier New"'> MY_REC<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The variable r will require 12 bytes (the size of a MY_RECrecord) while p will require only 4 bytes since all pointer values are 4bytes.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To get the address of a variable, use the &amp; operator,which is also used in C and C++:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = &amp;r<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To refer to the data that the pointer points to, the prefixoperator * is used, just as in C and C++:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r = *p<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Records, arrays, and objects may be created using either the<b>new</b><span style='font-weight:normal'> expression or the </span><b>alloc</b><spanstyle='font-weight:normal'> expression.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The syntax of the <b>alloc</b><span style='font-weight:normal'>construct and the </span><b>new</b><span style='font-weight:normal'> constructis the same. The </span><b>new</b><span style='font-weight:normal'> constructcreates a new value which must be used (e.g., copied into a variable) while the</span><b>alloc</b><span style='font-weight:normal'> construct allocates memoryin the heap, initializes it, and returns a pointer to the allocated memory.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example, the following <b>alloc </b><spanstyle='font-weight:normal'>expression will create a new record on the heap:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> MY_REC { val=1.5, next=<b>null </b></span><spanstyle='font-family:"Courier New"'>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To initialize variable r, the <b>new</b><spanstyle='font-weight:normal'> expression would be used:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r = <b>new</b></span><spanstyle='font-family:"Courier New"'> MY_REC { val=1.5, next=<b>null </b></span><spanstyle='font-family:"Courier New"'>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The syntax to chase pointers is the same as in C or C++, sowe can access the fields of the record pointed to by p with statements likethese:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = (*p).val<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>(*p).val = 2.5<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>C++ uses a shorthand of -&gt; to make dereferencingclearer. KPL uses the infix-dot operator. The semantics of the dot operator isIf the left operand is a pointer, dereference it first.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Equivalentin C++<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = p.val<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>x = p-&gt;val;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p.val = 2.5<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>p-&gt;val = 2.5;<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The above discussion of pointers used records and pointersto records, but pointers to objects work the same way, as illustrated below.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the next example, assume there is a class calledPerson. This example shows that KPL code can look a lot like Java code.(Assume that name is a field in class Person and that computeAge is amethod from the class.)</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>KPL<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Java<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>===================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>Person p;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = <b>new</b></span><spanstyle='font-family:"Courier New"'> Person {...}<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>p = <b>new</b></span><spanstyle='font-family:"Courier New"'> Person (...);<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p.name = ...<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>p.name = ...;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p.computeAge (...)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span>p.computeAge (...);<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The programmer can copy entire records, objects, or arrayswith code that looks like C++:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>*p = r<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r = *p<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The null pointer is symbolized with the keyword <b>null</b><spanstyle='font-weight:normal'>. The </span><b>null</b><span style='font-weight:normal'> value is represented with the value 0x00000000.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> p != <b>null</b></span><spanstyle='font-family:"Courier New"'> ...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Pointer expressions will automatically be coerced to <b>bool</b><spanstyle='font-weight:normal'> values if necessary, so the above test could alsobe coded in a way that looks like C++.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> p ...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>When coerced to <b>bool</b><span style='font-weight:normal'>values, non-</span><b>null</b><span style='font-weight:normal'> pointers aretreated as </span><b>true</b><span style='font-weight:normal'> and </span><b>null</b><spanstyle='font-weight:normal'> pointers are treated as </span><b>false</b><spanstyle='font-weight:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Whenever a pointer is dereferenced, a runtime check willmake sure the pointer is non-null. For example, this code</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = <b>null</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p.name = ...<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Error here<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>will result in the runtime error</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Attempt to use a nullpointer!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>When a runtime error like this occurs, the BLITZ virtualmachine will halt emulation and go into command mode. The user can then typethe st command to see the activation stack. The top line shows where in thesource code the program was executing when the error occurred.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Enter a command at theprompt.<span style="mso-spacerun: yes">&nbsp; </span>Type 'quit' to exit or'help' for<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>info about commands.<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>&gt; <b><u>st</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Function/Method<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Frame Addr<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>Execution at...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>====================<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>==========<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>=====================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo4<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>00FFFD80<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>MyPack.c, line 75<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo3<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>00FFFD90<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>MyPack.c, line 71<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo2<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>00FFFDA0<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>MyPack.c, line 67<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo1<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>00FFFDB0<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>MyPack.c, line 63<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;</span>main<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>00FFFEF8<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>MyPack.c, line 89</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The programmer may also work with pointers to other sorts ofdata, as in:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p1: <b>ptr to int</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p2:<b>ptr to char</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Pointers can be converted to integers and vice versa, usingthe <b>asInteger</b><span style='font-weight:normal'> and </span><b>asPtrTo</b><spanstyle='font-weight:normal'> constructs.<span style="mso-spacerun: yes">&nbsp;</span>The </span><b>asInteger</b><span style='font-weight:normal'> operatoruses a postfix syntax and </span><b>asPtrTo</b><span style='font-weight:normal'>uses infix, where the second operand is a type.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = p1 <b>asInteger</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p2 = i <b>asPtrTo</b></span><spanstyle='font-family:"Courier New"'> <b>char</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Pointers can also be incremented and decremented directly,as in these examples:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p1 = p1 + 4<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p2 = p2 &#8211; 1<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The increment or decrement is always in terms of bytes.<spanstyle="mso-spacerun: yes">&nbsp; </span>This is a subtle difference withC++.<span style="mso-spacerun: yes">&nbsp; </span>In C++, the expression p+1may increment the pointer by an amount that is different than 1 byte, and whichis in fact implementation dependent.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL provides the <b>sizeOf</b><span style='font-weight:normal'>operator to determine the size of a type of value. This is a prefix operator,applied to a type. Since each class is a type, the </span><b>sizeOf</b><spanstyle='font-weight:normal'> operator can be applied to a class, as in...</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p1 = p1 + <b>sizeOf </b></span><spanstyle='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The use of some of the pointer operations is unsafe. Inparticular, <b>asPtrTo</b><span style='font-weight:normal'>, pointer increment,and pointer decrement are all unsafe, while the normal operations of copying,dereferencing, and comparing for equality are safe. It is safe to take theaddress of a global variable but unsafe to ask for the address of a parameteror local variable.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818333"><span style='font-size:18.0pt'>Functions</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form of a function is</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>function</b></span><spanstyle='font-family:"Courier New"'> ID ( <i>...Parameters...</i></span><spanstyle='font-family:"Courier New"'> ) [ <b>returns</b></span><spanstyle='font-family:"Courier New"'> <i>...Type...</i></span><spanstyle='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Variabledeclarations...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Statements...</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFunction<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example function:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>function</b></span><spanstyle='font-family:"Courier New"'> foo (a, b: <b>int</b></span><spanstyle='font-family:"Courier New"'>) <b>returns bool</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> c: <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c =a + b<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>return</b></span><spanstyle='font-family:"Courier New"'> c &gt; 10<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFunction<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>returns</b><span style='font-weight:normal'> clauseis optional. Here is another example in which there are no parameters or returnvalue:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>function</b></span><spanstyle='font-family:"Courier New"'> foo2 ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>print (&quot;hello&quot;)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFunction<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Functions may be invoked (i.e., called) using syntax likeJava or C++, except the semicolon is not used.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>myBoolVar = foo (x, y)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>foo2 ()<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>All functions must appear in the code portion of a package,since they constitute implementation.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within the header file, the programmer may optionallyinclude a function declaration (i.e., a function prototype). Here is anexample:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>header</b></span><spanstyle='font-family:"Courier New"'> MyPack<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>functions<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo(a, b: <b>int</b></span><span style='font-family:"Courier New"'>) <b>returnsbool<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>foo2 ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>foo3 (a: <b>int</b></span><span style='font-family:"Courier New"'>, b: <b>char</b></span><spanstyle='font-family:"Courier New"'>, c,d: <b>double</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endHeader</b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For every function that is declared in the header file,there must be a matching function definition in the code file. However, everyfunction in the code file need not have a matching declaration in the headerfile. Whether or not a function has a declaration in the header file determinesits visibility.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example, if a function is declared in the header file ofpackage MyPack, then that function can be called from code in MyPack and fromcode in any other package that uses MyPack. If a function does not have adeclaration in the header file, then that function is private. It may only becalled from the code file of MyPack.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL also provides a way to invoke functions written inassembly language. Consider the function named Switch which is coded inassembly language. This function must be assembled separately and included inthe link phase. Within the header file of MyPack, the function Switch must bedeclared using the <b>external</b><span style='font-weight:normal'> keyword.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>header</b></span><spanstyle='font-family:"Courier New"'> MyPack<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>functions<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>external</b></span><span style='font-family:"Courier New"'> Switch (x,y: <b>ptr to</b></span><span style='font-family:"Courier New"'>ThreadControlBlock)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo(a, b: <b>int</b></span><span style='font-family:"Courier New"'>) <b>returnsbool<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that the function name Switch is capitalized todistinguish it from the keyword <b>switch</b><span style='font-weight:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL does not allow overloading of function names. Allfunctions must have distinct names.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818334"><span style='font-size:18.0pt'>Classes</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Classes in KPL are similar to the classes in C++ and Java.Each object is an instance of a class. The class describes which fields theinstances will have and provides methods for operating on the instances of theclass.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL also has interfaces, which are similar to the interfacesof Java. Interfaces are discussed later.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A class is defined in two parts or pieces, called the <i>specification</i><spanstyle='font-style:normal'> and the </span><i>implementation</i><spanstyle='font-style:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The first part specifies which fields will be in the classand which methods are in the class, but does not supply the actual code for themethods. The keyword <b>class</b><span style='font-weight:normal'> is used forthe specification part.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The second part, which gives the implementation of theclass, includes only the code bodies for the methods. The keyword <b>behavior</b><spanstyle='font-weight:normal'> is used for the implementation part.</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>As an example, consider a class called Person. Here is thespecification part for Person:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><br clear=ALL style='page-break-before:always'></b></span><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>class</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>superclass</b></span><spanstyle='font-family:"Courier New"'> Object<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'><span style="mso-spacerun: yes">&nbsp;&nbsp;</span>name: <b>ptrto array of char</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>id_num: <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>birthdate: <b>int</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>printID ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>getAge () <b>returns</b></span><spanstyle='font-family:"Courier New"'> <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is the implementation part of Person:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>behavior</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;</span>method </b></span><spanstyle='font-family:"Courier New"'>printID ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>method </b></span><span style='font-family:"Courier New"'>getAge() <b>returns</b></span><span style='font-family:"Courier New"'> <b>int</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><b><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The specification part of a class may be placed in eitherthe header file or the code file. Where the specification is placed determinesthe visibility of the class. If placed in the header file, then the class maybe used by any packages that use this package. If placed in the code file, thenthe class may only be used within that package.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The behavior part of a class must always be placed in thecode file.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general syntax for the specification part of a class isgiven next. The notation [...] means optional. The notation {...}+ means oneor more occurrences. (The actual grammar rule is simplified a little here.)</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> ID [ <i>...Type Parameters...</i></span><spanstyle='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[ <b>implements</b></span><spanstyle='font-family:"Courier New"'> ID, ID, ... ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>superclass</b></span><spanstyle='font-family:"Courier New"'> ID<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[ <b>fields</b></span><spanstyle='font-family:"Courier New"'> { <i>FieldDeclaration</i></span><spanstyle='font-family:"Courier New"'> }+ ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[ <b>methods</b></span><spanstyle='font-family:"Courier New"'> { <i>MethodPrototype</i></span><spanstyle='font-family:"Courier New"'> }+ ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Type parameters are discussed in a later section.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is the syntax for the implementation part.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>behavior</b></span><spanstyle='font-family:"Courier New"'> ID<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ <i>Method</i></span><spanstyle='font-family:"Courier New"'> } <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Each class has exactly one superclass, which is givenfollowing the <b>superclass</b><span style='font-weight:normal'> keyword. Theroot superclass is called Object. It is included in the System package anddoes not have a superclass.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A class may implement zero or more interfaces. These wouldbe given following the <b>implements</b><span style='font-weight:normal'> keyword.For example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>class</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>implements</b></span><spanstyle='font-family:"Courier New"'> InterA, InterB, InterC<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>superclass</b></span><spanstyle='font-family:"Courier New"'> Object<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The class specification lists the methods that areimplemented in the class. However, it only includes a prototype for each method.A method prototype includes the method name, parameters, and return type, butdoes not include the code for the method.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There must be a one-to-one correspondence between themethods listed after the <b>methods</b><span style='font-weight:normal'>keyword in the specification and the methods provided in the implementationpart. In other words, if the specification says there is a method calledprintID in the class, then an implementation of method printID (withmatching parameters and return type) must appear in the </span><b>behavior</b><spanstyle='font-weight:normal'> construct for the class.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A class will inherit any and all methods from itssuperclass, and its super-superclass, and so on up to Object. When a methodis included in a class, it must be given a new name or else it will override amethod inherited from the superclass.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL does not allow overloading of method names. Two methodsmay only have the same name if they are in different classes.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In Java and C++, methods and fields have visibility control(private, public, etc.). KPL does not have this layer of complexity. Everyfield and every method can be used wherever the class itself can be used. InJava and C++, the visibility mechanism is used to restrict and constrain whatthe programmer can do with objects; in KPL it is up to the programmer to useobjects correctly. For example, if the programmer feels that some field shouldbe accessed only from code within the class, then it is the programmersresponsibility to discipline him or herself and avoid accessing the field fromoutside the class.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If the programmer really needs a mechanism to disallow someparts of the program from accessing certain methods or fields, there areseveral ways of doing it. First, the class specification can be placed in thecode file, making the entire class private to a package. Second, the programmercan work with interfaces, which can be used to control which methods may beinvoked on an object. Finally, the programmer can create a new wrapper class toallow only certain kinds of access to an underlying object.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818335"><span style='font-size:18.0pt'>Fields</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Classes may contain fields. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>myField: <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>From outside the class, the fields may be accessed using thedot notation:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> m: MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = m.myField<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>m.myField = j<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The field would also be accessed the same way if a pointerto the object is used, instead of the object itself.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p: <b>ptr to </b></span><spanstyle='font-family:"Courier New"'>MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = p.myField<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p.myField = j<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>From within the class, the fields of the class may beaccessed directly. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>behavior</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>method </b></span><spanstyle='font-family:"Courier New"'>foo (...) <b>returns</b></span><spanstyle='font-family:"Courier New"'> ...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i = myField<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>myField = j<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>...</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A class will inherit any and all fields from its superclass,and its super-superclass, and so on up to Object. Fields may be added to aclass, but overriding or overloading of fields is not allowed. When a new fieldis added to a class, its name must be distinct from the names of all inheritedfields.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Java and C++ allow static fields, but KPL does not havestatic fields. A static field is nothing more than a global variable whosevisibility is limited. KPL provides only one concept: the global variable. If aprogrammer wants to have a static field called x in some class MyClass, heor she can simply create a global variable and give it a name that suggests itsuse.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> MyClass_x: <i>...type...</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Then the programmer can simply write MyClass_x instead ofMyClass::x.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818336"><span style='font-size:18.0pt'>Methods</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A method is declared in the classs specification part andimplemented in the classs behavior part.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo(a,b: <b>int</b></span><span style='font-family:"Courier New"'>) <b>returns int</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>behavior</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>method </b></span><spanstyle='font-family:"Courier New"'>foo (a,b: <b>int</b></span><spanstyle='font-family:"Courier New"'>) <b>returns int<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> x: <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x = a + b<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>return</b></span><spanstyle='font-family:"Courier New"'> x<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form of a method is</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>method</b></span><spanstyle='font-family:"Courier New"'> ID ( <i>...Parameters...</i></span><spanstyle='font-family:"Courier New"'> ) [ <b>returns</b></span><spanstyle='font-family:"Courier New"'> <i>...Type...</i></span><spanstyle='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Variabledeclarations...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Statements...</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If there are no parameters and the method does not return avalue, the method looks like this:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>method</b></span><spanstyle='font-family:"Courier New"'> bar ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If the method returns a value, then the method shouldcontain at least one <b>return</b><span style='font-weight:normal'> statementwith a value. If the method does not return a value, then the method maycontain a </span><b>return</b><span style='font-weight:normal'> statementwithout a value or may fall out the bottom. This routine does both:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>method </b></span><spanstyle='font-family:"Courier New"'>printWithNULL (p: <b>ptr to array of char</b></span><spanstyle='font-family:"Courier New"'>)<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> p == <b>null<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>print (&quot;NULL!&quot;)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>return</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>print (p)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within a method, the keyword <b>self</b><spanstyle='font-weight:normal'> may be used to refer to the receiver object. Thetype of </span><b>self</b><span style='font-weight:normal'> is</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to</b></span><spanstyle='font-family:"Courier New"'> <i>CLASS</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>where CLASS is the class containing the method.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the next example, recur is a recursive method.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>method </b></span><spanstyle='font-family:"Courier New"'>recur (...)<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>self.recur(...)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The keyword <b>self</b><span style='font-weight:normal'> mayalso be used in other ways. For example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>m.foo (j, <b>self</b></span><spanstyle='font-family:"Courier New"'>, k)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = <b>self</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There is also a keyword <b>super</b><span style='font-weight:normal'>, which has exactly the same type as </span><b>self</b><spanstyle='font-weight:normal'>. However, </span><b>super</b><spanstyle='font-weight:normal'> can only be used in one way; it is used within amethod to invoke the inherited and overridden version of the method.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example, assume class Person has a method calledmeth.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>meth (...)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Now assume that a subclass called Student overridesmeth.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>superclass</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>meth (...)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within the implementation of meth in Student, theoverridden method can be invoked by using <b>super</b><span style='font-weight:normal'> instead of </span><b>self</b><span style='font-weight:normal'>:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>behavior</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>method </b></span><spanstyle='font-family:"Courier New"'>meth (...)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>super</b></span><spanstyle='font-family:"Courier New"'>.meth (...)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818337"><span style='font-size:18.0pt'>Creating Objects</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Instances of classes can be created in one of two ways. Theobject can be allocated in the runtime heap or the object can be placeddirectly into a variable.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To allocate and initialize an object on the heap, the <b>alloc</b><spanstyle='font-weight:normal'> expression is used. For example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> perPtr: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr = <b>alloc </b></span><spanstyle='font-family:"Courier New"'>Person { name = &quot;Smith&quot;,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>id_num = nextNum+1,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>birthdate = 2003 }<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example of creating an object with the <b>new</b><spanstyle='font-weight:normal'> keyword and storing the result directly into avariable.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> per: Person<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>per = <b>new </b></span><spanstyle='font-family:"Courier New"'>Person { name = &quot;Smith&quot;,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>id_num = nextNum+1,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>birthdate = 2003 }<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>alloc</b><span style='font-weight:normal'> expressionreturns a pointer while the </span><b>new</b><span style='font-weight:normal'>expression returns a object.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>These examples assume that the Person class has threefields, called name, id_num, and birthdate. After the object is created,the fields are given their initial values, which are listed between the braces.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Whenever an object is created, the programmer has twochoices: either all the fields can be initialized explicitly or they can all beset to their zero values by default.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the above examples, the fields were initialized. Thefields and their initializing expressions are listed between the braces. Thefields need not be listed in order, but all fields must be listed, includingany inherited fields.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If the programmer doesnt want to initialize the fields,then the braces and everything between them should be omitted. The object willbe created and each of the fields will be initialized to its zero value. Forexample:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr = <b>alloc </b></span><spanstyle='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>It is often the case that creating and initializing anobject should be accompanied by some additional computation. Java and C++ haveconstructor methods for this, but KPL does not have any special syntax forconstructors.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Instead, the KPL convention is to create amethod&#8212;typically called init&#8212;to perform all necessary initializationand computation associated with object creation. Thus, the same effect asconstructors is achieved with features already in the language.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is an example using an init function. To create anobject, the <b>alloc</b><span style='font-weight:normal'> or </span><b>new</b><spanstyle='font-weight:normal'> expression is used with no explicit fieldinitialization. Then the init method is immediately invoked. The init methodcan be designed to take however many arguments make sense in the application.In our example, we will pass one argument and initialize the remaining fieldswith computed or default values.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> Person.init(&quot;Smith&quot;)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is a possible definition of the init method:</p><p class=MsoNormal><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>init (n: <b>ptr to array of char</b></span><span style='font-family:"Courier New"'>) <b>returns ptr to</b></span><span style='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>behavior</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>method</b></span><spanstyle='font-family:"Courier New"'> init (n: <b>ptr to array of char</b></span><spanstyle='font-family:"Courier New"'>) <b>returns ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>name = n<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>last = last+ 1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>id_num =last<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- birthdatedefaults to zero<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>return</b></span><spanstyle='font-family:"Courier New"'> self<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the above example, the init method returned a pointerto the object; this allows us to invoke it in the same statement that createsthe object:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> Person.init(...)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>However, if the object is not allocated on the heap but iscreated with a <b>new</b><span style='font-weight:normal'> expression, we wouldhave to invoke init in a separate statement. Since KPL requires theprogrammer not to ignore a returned value, we must create a dummy variable toabsorb the value:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> ignore: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>per = <b>new</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>ignore = per.init(...)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Another approach is to design init not to return anything.Here are examples showing how we would invoke the init method in such adesign:</p><p class=MsoNormal><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr.init(...)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>per = <b>new</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>per.init(...)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:18.0pt;font-family:Times;mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><u><br clear=ALL style='page-break-before:always'></u></b></span><h2><a name="_Toc51818338"><span style='font-size:18.0pt'>Interfaces</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has interfaces, which are similar to the interfaces ofJava. Here is an example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>interface</b></span><spanstyle='font-family:"Courier New"'> MyInter<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>messages<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>foo1 (a,b: <b>int</b></span><span style='font-family:"Courier New"'>) <b>returnsint<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'>foo2 (d: <b>double</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endInterface<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Any object that implements the interface MyInter mustprovide at least these two methods, although the class may have other methodsas well. Furthermore, these two methods must have types on their parameters andreturn value that match the specification in the interface.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Just as in Java, an interface can extend zero or more otherinterfaces. Thus, there is multiple inheritance in the interface hierarchy.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general syntax of an interface is:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>interface</b></span><spanstyle='font-family:"Courier New"'> ID [ <i>...Type Parameters...</i></span><spanstyle='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[ <b>extends</b></span><spanstyle='font-family:"Courier New"'> ID, ID, ... ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[ <b>messages</b></span><spanstyle='font-family:"Courier New"'> { <i>MethodPrototype</i></span><spanstyle='font-family:"Courier New"'> }+ ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endInterface<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Type parameters are discussed in a later section.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that the keyword here is <b>messages</b><spanstyle='font-weight:normal'>, not </span><b>methods</b><span style='font-weight:normal'>. Methods are chunks of behavior and therefore occur in classes;messages describe the protocol for interacting with objects and are thereforespecified in interfaces. Messages are implemented by methods.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A class may implement zero or more interfaces, and this isgiven in the class specification. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> ExampleClass<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>implements</b></span><spanstyle='font-family:"Courier New"'> MyInter, AnotherInterface<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>superclass</b></span><spanstyle='font-family:"Courier New"'> ...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>implements</b><span style='font-weight:normal'>clause is optional and may list one or more interfaces. Of course a class willnecessarily implement all the interfaces its superclass implements.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is a variable declaration which uses an interfaceinstead of a class.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> MyInter<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The constraint on p is that it must point to an objectwhich has (at least) two methods called foo1 and foo2, with appropriateparameter typings. Thus, the programmer may invoke those methods on p:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = p.foo1 (...)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>One class that implements this interface is ExampleClass,but there may be other completely unrelated classes that also implement thisinterface. The compiler guarantees that, at runtime, p will point to aninstance of ExampleClass or some other class that implements this interface.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that the programmer cannot create a variable of typeMyInter since the compiler has no way to know how much space to allocate forthe variable. The programmer must use a pointer instead.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818339"><span style='font-size:18.0pt'>Infix and PrefixMethods</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The traditional method syntax involves parentheses withcomma-separated arguments.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>w = x.foo(y,z)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL also allows methods to use a binary operator syntax.Here is the invocation of a method named ** on receiver x. There is oneargument, indicated by y.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>w = x ** y<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>While this looks different than the invocation of foo, itis essentially the same. The method ** is invoked on the object x and aresult is returned.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>There is also a unary operator syntax. In the nextexample, the prefix method ~ is invoked on the object named x. Here, amethod with no arguments is invoked on object x.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>w = ~x<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the binary operator syntax, there is always one argument,while in the unary operator syntax, there is no argument. In both cases, aresult is always returned.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For each operator, the class must contain a correspondingmethod. For the above examples, lets assume that x has type MyClass; thenthe definition of MyClass will need to contain methods for foo, **, and~ as in:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo(p1, p2: MyClass) <b>returns</b></span><span style='font-family:"Courier New"'>MyClass<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>infix</b></span><spanstyle='font-family:"Courier New"'> ** (p1: MyClass) <b>returns</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>prefix</b></span><spanstyle='font-family:"Courier New"'> ~ () <b>returns</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The types of the arguments and returned values in thisexample all happen to be the same MyClass, but in other programs, they couldbe any type.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The name of a binary or unary method may be any sequence ofthe following characters:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>+<span style="mso-spacerun:yes">&nbsp; </span>-<span style="mso-spacerun: yes">&nbsp; </span>*<spanstyle="mso-spacerun: yes">&nbsp; </span>/<span style="mso-spacerun: yes">&nbsp;</span>\<span style="mso-spacerun: yes">&nbsp; </span>!<spanstyle="mso-spacerun: yes">&nbsp; </span>@<span style="mso-spacerun: yes">&nbsp;</span>#<span style="mso-spacerun: yes">&nbsp; </span>$<spanstyle="mso-spacerun: yes">&nbsp; </span>%<span style="mso-spacerun: yes">&nbsp;</span>^<span style="mso-spacerun: yes">&nbsp; </span>&amp;<spanstyle="mso-spacerun: yes">&nbsp; </span>~<span style="mso-spacerun: yes">&nbsp;</span>`<span style="mso-spacerun: yes">&nbsp; </span>|<spanstyle="mso-spacerun: yes">&nbsp; </span>?<span style="mso-spacerun: yes">&nbsp;</span>&lt;<span style="mso-spacerun: yes">&nbsp; </span>&gt;<spanstyle="mso-spacerun: yes">&nbsp; </span>=<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>with the exception that the following tokens may not be usedas operators:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>/*<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>*/<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>--<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>=<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818340"><span style='font-size:18.0pt'>Keyword Methods</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In addition to the normal method syntax and the infix andprefix operator syntax, KPL has another method syntax which is unlike anythingin Java or C++. It is called keyword syntax and it was introduced in theSmalltalk language.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>With keyword methods, the name of the method containscolons. Consider the method named</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>at:put:<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For each colon, there is a single argument. Therefore, wecan tell that at:put: takes two arguments. Here is an example where thismethod is invoked on receiver x with arguments y and z.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x at: y put: z<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Keyword methods may or may not return a result. They may beused in expressions and mixed with the other methods forms, as shown in thenext example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>myTable at: (myTablelookup: (x ** y)) put: ~z<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For each keyword method, the class must contain acorresponding method. Here is a class with methods for lookup: and at:put:.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> MyClass<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>lookup: (p: MyClass) <b>returns</b></span><span style='font-family:"Courier New"'>MyClass<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>at:(p1: MyClass) put: (p2: MyClass)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>One advantage of keyword syntax over the traditional syntaxis that it can be employed to identify arguments. As an example, contrast thefollowing two method invocations. Both methods are intended to do the samething; the only difference is that in one case the programmer has chosen to usethe traditional syntax while, in the other, the keyword syntax has been usedand the method renamed accordingly.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a.compile (b, c, d, e)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a compile: bwithEnvironment: c outputTo: d optimizations: e<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the first, no clue is given about the identity andmeaning of the arguments, but in the second, the reader can make some guessesabout the meanings of the arguments. This sort of intuitive help can make someprograms vastly easier to read and understand.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Keyword syntax may seem rather strange at first, but theexperience of Smalltalk shows that it works well in practice. It can be learnedeasily and is quickly accepted by novice programmers. KPL provides the keywordsyntax, but if desired, the programmer can simply ignore it and continue toprogram in the Java / C++ style.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818341"><span style='font-size:18.0pt'>Pointers to Functions</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Functions, which were discussed earlier, are defined with asyntax as suggested by this example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>function</b></span><spanstyle='font-family:"Courier New"'> sqrt (a: <b>double</b></span><spanstyle='font-family:"Courier New"'>) <b>returns double</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Variabledeclarations...<o:p></o:p></i></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><i><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>...Statements...</i></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFunction<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>and invoked with syntax like this:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = sqrt(y)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The function definition defines a name, such as sqrt, anda function invocation uses the name. If the function returns a value, as doessqrt, then the invocation must appear in an expression and the value must beconsumed. If the function does not return a value, the invocation occurs in acall statement.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, pointers to code may be stored in variables, byusing function types. In the next example, a variable f is defined. Thisvariable will contain a pointer to a function.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><a name="OLE_LINK2"><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span></a><span style='mso-bookmark:OLE_LINK2'><span style='font-family:"Courier New"'> f: <b>ptr to function</b></span></span><spanstyle='mso-bookmark:OLE_LINK2'><span style='font-family:"Courier New"'> (<b>double</b></span></span><spanstyle='mso-bookmark:OLE_LINK2'><span style='font-family:"Courier New"'>) <b>returnsdouble</b></span></span><span style='mso-bookmark:OLE_LINK2'><spanstyle='font-family:"Courier New"'><o:p></o:p></span></span></p><span style='mso-bookmark:OLE_LINK2'></span><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Function types may only be used in conjunction with <b>ptrto</b><span style='font-weight:normal'>. The syntax of a function type is:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to function</b></span><spanstyle='font-family:"Courier New"'> (<i>Type</i></span><span style='font-family:"Courier New"'>, <i>Type</i></span><span style='font-family:"Courier New"'>,... <i>Type</i></span><span style='font-family:"Courier New"'>) [ <b>returns </b></span><spanstyle='font-family:"Courier New"'><i>Type</i></span><span style='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here are some example function types:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to function</b></span><spanstyle='font-family:"Courier New"'> (<b>int, int, int</b></span><spanstyle='font-family:"Courier New"'>) <b>returns </b></span><spanstyle='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to function</b></span><spanstyle='font-family:"Courier New"'> (<b>double, int, char</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to function</b></span><spanstyle='font-family:"Courier New"'> () <b>returns ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A function pointer may be assigned and compared like otherpointers. In the following assignment statement, the variable f is set to pointto the sqrt function.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>f = sqrt<b><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The compiler will check to make sure the type of the sqrtfunction is compatible with the type of variable f. In particular, the compilerwill ensure the number of arguments is the same, the types of the arguments arepair-wise equal and that, if there is a return value, both sqrt and f have thesame return type. In other words, two function types are incompatible if theydiffer in any way.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To invoke a function using a function pointer, the same syntaxas a normal function invocation is used. For example, we can write:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = f(y)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A variable such as f requires only 4 bytes and isrepresented as a pointer to the machine instructions for the function. And likeother pointers, it may be null if it has not been set to point to any function.If an attempt is made to invoke a function using a <b>null</b><spanstyle='font-weight:normal'> function pointer, the error will be caughtimmediately and the runtime system will print an error message.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Pointers to functions may be copied, stored, passed asarguments to methods and other functions, and used like any other value. Forexample, we might wish to store a number of different function pointers in anarray. Here is the definition of an array called a:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>type</b></span><spanstyle='font-family:"Courier New"'> MY_FUN = <b>ptr to function</b></span><spanstyle='font-family:"Courier New"'> (<b>double</b></span><span style='font-family:"Courier New"'>) <b>returns double</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> a: <b>array</b></span><spanstyle='font-family:"Courier New"'> [10] <b>of</b></span><span style='font-family:"Courier New"'> MY_FUN<b><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>We will need to initialize this array:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a = <b>new array</b></span><spanstyle='font-family:"Courier New"'> <b>of</b></span><span style='font-family:"Courier New"'> MY_FUN { 10 <b>of null</b></span><span style='font-family:"Courier New"'>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Then we can store pointers to various functions in thearray:</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a[4] = sqrt<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a[7] = cos<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The syntax for invoking functions is</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>ID ( arg, arg, ... arg )<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>so to invoke one of the functions in a we cannot write:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = a[i] (y)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Instead, the code would look like this:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>f = a[i]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = f(y)<o:p></o:p></span></p><p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;</span></p><p class=MsoNormal>When a name such as sqrt appears in the program, how doesthe compiler determine whether it signifies a pointer or a function invocation?</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the assignment statement</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>f = sqrt<b><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>the compiler will notice that there are no arguments; ittherefore assumes sqrt means a pointer to code and it will copy a pointer.Contrast this to a function invocation, such as is shown next, in whicharguments are present.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>x = sqrt (2.25)<b><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The two forms are syntactically very similar and the absenceof statement terminators in KPL necessitates an additional syntactic detail.Since the next thing after any assignment statement may legally begin with aleft parenthesis, KPL has an additional syntax rule that requires the argumentsin a function invocation to be on the same line as the name of the function.This rule disambiguates what would otherwise be a parsing problem.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>More precisely, the rule says that the opening parenthesismust be on the same line. To avoid parsing problems, the following sort ofthing:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>foo<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>( x,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>z )<b><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>must be re-written to:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>foo (<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>z )<b><o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818342"><span style='font-size:18.0pt'>The AssignmentStatement</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here are some example assignment statements:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = j * 4<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>*p = *q<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p.name = &quot;smith&quot;<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>a[k] = foo (b,c)</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form is</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><i>LValue</i></span><spanstyle='font-family:"Courier New"'> = <i>Expression</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>where <i>LValue</i><spanstyle='font-style:normal'> can have any of the following forms:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><i>ID</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>* <i>LValue</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><i>LValue</i></span><spanstyle='font-family:"Courier New"'> . <i>ID<o:p></o:p></i></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><i>LValue</i></span><spanstyle='font-family:"Courier New"'> [ <i>Expression</i></span><spanstyle='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>( <i>LValue</i></span><spanstyle='font-family:"Courier New"'> )<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>The asterisk in the second form isused to indicate pointer dereferencing. The dot in the third form is used toindicate field accessing in objects and records. The brackets in the forth formare used to indicate array accessing. Parentheses can be used for grouping, asin:</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>(* p) [i] = x<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>* (p [i]) = x<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>Confusion between = and == byC++/Java programmers has been the source of many bugs.</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>if (i = max) ...<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// A commonC++/Java mistake<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>if (i == max) ...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>In KPL, the assignment symbol (=) isnot an operator, as it is in C++ and Java. In keeping with KPLs philosophy ofemphasizing program correctness at the expense of conciseness and efficiency,it was decided that = would not be usable as an expression, which makes thefollowing illegal:</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> i = max ...<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Syntax error!<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>Also, in KPL integers are notimplicitly coerced to type <b>bool</b><span style='font-weight:normal'>. Thus,the above statement must be coded as:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = max<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Use this instead<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> i != 0 ...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818343"><span style='font-size:18.0pt'>Type Conversions</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL provides several built-in, predefined functions. Theseuse the standard function invocation syntax, but they are recognized by thecompiler as special. The compiler will generate machine instructions to performthe operation and will insert this code directly inline. There are nocorresponding function definitions for these operations.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Most of these built-in functions perform data typeconversions. Here are the built-in conversion functions. (In the following,assume that the variables i, c, d, b, and p have types <b>int</b><spanstyle='font-weight:normal'>, </span><b>char</b><span style='font-weight:normal'>,</span><b>double</b><span style='font-weight:normal'>, </span><b>bool</b><spanstyle='font-weight:normal'>, and </span><b>ptr</b><span style='font-weight:normal'>, respectively.)</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = charToInt (c)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- Convert ASCII into&#8211;128..127<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>c = intToChar (i)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- Ignore high-order 24bits<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = intToDouble (i)<spanstyle="mso-spacerun: yes">&nbsp; </span>-- Never a loss of accuracy<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = doubleToInt (d)<spanstyle="mso-spacerun: yes">&nbsp; </span>-- Truncates (e.g., -4.9 =&gt; -4)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>b = ptrToBool (p)<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- Null=&gt;<b>false</b></span><spanstyle='font-family:"Courier New"'>, Other=&gt;<b>true</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Other built-in functions yield floating point values thatcannot be easily obtained otherwise:</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = posInf ()<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Returns positive infinity<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = negInf ()<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Returns negative infinity<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = negZero ()<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Returns &#8211;0.0, which differs from 0.0<o:p></o:p></span></p><p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;</span></p><p class=MsoHeader style='tab-stops:.5in'>The compiler will automaticallyinsert the following type conversions whenever they are needed.</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>charToInt<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>intToDouble<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>ptrToBool<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>Here are some examples, showing theuse of automatically inserted type conversions:</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = 'A'<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Set i to 65<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>d = 123<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Set d to 123.0<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>while</b></span><spanstyle='font-family:"Courier New"'> p<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Walk a linked list<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p = p.next<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endWhile<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>Any other conversion must beprogrammed explicitly.</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = 123.0<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Error:need to use 'doubleToInt'<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>c = 65<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Error:need to use 'intToChar'<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818344"><span style='font-size:18.0pt'>Static Type Checking</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Next, we consider type checking when objects and classes areinvolved. For the following examples, assume that we have two classes calledPerson and Student. Assume Student is a subclass of Person.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here are two variables:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> per: Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>st:<spanstyle="mso-spacerun: yes">&nbsp; </span>Student<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Each of these variables holds the entire object, not apointer to the object. Even though Student is a subclass of Person, thefollowing assignments are not allowed:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>per = st<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>st = per<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The reason that these assignments is not allowed is that, ingeneral, the variables will have different sizes. In order to perform theassignments, data would need to be discarded or added. If this is what isdesired, the programmer must code it explicitly.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Next, consider using pointers to the objects:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> perPtr: <b>ptr to </b></span><spanstyle='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>stPtr:<span style="mso-spacerun: yes">&nbsp; </span><b>ptr to </b></span><spanstyle='font-family:"Courier New"'>Student<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The following assignment is legal:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr = stPtr<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Okay<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, any pointer that is declared to have type <b>ptr to</b><spanstyle='font-weight:normal'> C, where C is a class, will be guaranteed to pointat runtime to an instance of C or one of Cs subclasses. Likewise, any pointerthat is declared to have type </span><b>ptr to</b><span style='font-weight:normal'> I, where I is an interface, will be guaranteed to point at runtime toan instance of some class that implements interface I. This is the same typerule as in Java.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>This guarantee is made as long as only safe constructs areused. The programmer can use constructs (such as <b>asPtrTo</b><spanstyle='font-weight:normal'>, described below) to violate this invariant.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If perPtr points to an instance of class Person and we senda message using perPtr, we will invoke a method defined in class Person.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perPtr.meth(<i>...args...</i></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>However, perPtr might point to an instance of one ofPersons subclasses, like Student (or even to an instance of a subclass of asubclass of Person, and so on). Assume perPtr points to an instance of classStudent and we send the same message. If meth has been overridden andredefined in Student, then we will invoke the new method. Otherwise, if meth isinherited without being overridden, we will invoke the method defined inPerson.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The following assignment is not allowed. While perPtr mightpoint to a Student at runtime, the compiler cannot guarantee this.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>stPtr = perPtr<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Explicit casting, using the <b>asPtrTo</b><spanstyle='font-weight:normal'> construct, is discussed later.</span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818345"><span style='font-size:18.0pt'>Subtyping Among Arrayand Record Types</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>One array may be copied to another. In the followingexample, all 10 elements will be copied.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> arr1, arr2: <b>array</b></span><spanstyle='font-family:"Courier New"'> [10] <b>of</b></span><span style='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>arr1 = arr2<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To make the assignment, the arrays must have the same type.There is no subtype relationship between array types, even when pointers areused. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p1: <b>ptr to array</b></span><spanstyle='font-family:"Courier New"'> [10] <b>of</b></span><span style='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p2:<b>ptr to array</b></span><span style='font-family:"Courier New"'> [10] <b>of</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>p1 = p2<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p2 = p1<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Likewise, there is no subtype relationship between recordtypes. Two record types are equal if and only if they have the same fields,with the same names in the same order, and the fields have pair-wise types thatare equal.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> r1: <b>record<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>f1: <b>ptr to </b></span><spanstyle='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endRecord<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>r2:<b>record<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>f1: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endRecord</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>r3:<b>record<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b></span><span style='font-family:"Courier New"'>f1: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span><b>endRecord</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r1 = r2<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Okay<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>r1 = r3<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--Compile-time error!<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818346"><span style='font-size:18.0pt'>Dynamic Type Checking</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Given a pointer variable (like perPtr above), KPL providestwo built-in operations to determine what sort of object it points to atruntime: <b>isInstanceOf</b><span style='font-weight:normal'> and </span><b>isKindOf</b><spanstyle='font-weight:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>isInstanceOf</b><span style='font-weight:normal'>operator uses binary infix syntax, where the first operand points to an objectand where the second operand is a class. It returns a </span><b>bool</b><spanstyle='font-weight:normal'> value. In the next example, </span><b>isInstanceOf</b><spanstyle='font-weight:normal'> is used to determine whether perPtr points to aninstance of class Student.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> perPtr: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> perPtr <b>isInstanceOf</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>print(&quot;Got a Student!&quot;)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>isInstanceOf</b><span style='font-weight:normal'>operator returns </span><b>true</b><span style='font-weight:normal'> if thefirst operand points to an instance of the named class. Note that if perPtr hadpointed to an instance of some subclass of Student, the </span><b>isInstanceOf</b><spanstyle='font-weight:normal'> expression would have returned </span><b>false</b><spanstyle='font-weight:normal'>.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To perform the more inclusive test, KPL has another binaryinfix operator named <b>isKindOf</b><span style='font-weight:normal'>, whosefirst operand points to an object and whose second operand is a class orinterface. In the next example, assume that PartTimeStudent is a subclass ofStudent.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> perPtr <b>isKindOf</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>print(&quot;Got a Student or PartTimeStudent!&quot;)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that the <b>isInstanceOf</b><span style='font-weight:normal'> operator in KPL is different from the instanceof operator in Java.The </span><b>isKindOf</b><span style='font-weight:normal'> operator in KPLbehaves the way Javas instanceof behaves.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818347"><span style='font-size:18.0pt'>Pointer Casting</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL provides a built-in postfix operator called <b>asInteger</b><spanstyle='font-weight:normal'>, which can be used to convert any pointer into aninteger.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = p <b>asInteger</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>j = p.next <b>asInteger</b></span><spanstyle='font-family:"Courier New"'> + 4<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To convert an integer into a pointer, the <b>asPtrTo</b><spanstyle='font-weight:normal'> operator is used. This is an infix operator whosefirst operand is an integer expression and whose second operand is a type, notan expression.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span><i><span style="mso-spacerun:yes">&nbsp;</span>Expression</i></span><span style='font-family:"Courier New"'><b>asPtrTo </b></span><span style='font-family:"Courier New"'><i>Type</i></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>(i+20) <b>asPtrTo array ofdouble</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>asPtrTo</b><span style='font-weight:normal'> operatorwill simply copy the 32-bit value, without any runtime type checking.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p1: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p1 = i <b>asPtrTo </b></span><spanstyle='font-family:"Courier New"'>Person<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Of course, the static type checking still occurs. </p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p2: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p2 = i <b>asPtrTo </b></span><spanstyle='font-family:"Courier New"'>Person<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Okay<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p2 = i <b>asPtrTo double</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Compile-time typeerror<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>asPtrTo</b><span style='font-weight:normal'> operatormay also be used to cast a pointer from one type to a pointer of another type.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>A typical use of pointer casting is shown in the nextexample. Assume that perPtr may point to any kind of Person, including aStudent object. Given a pointer, the programmer may wish to determine if thepointer points to a Student and, if so, do something with it.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> perPtr: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;</span>stPtr: <b>ptr to</b></span><span style='font-family:"Courier New"'>Student<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> perPtr <b>isKindOf</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>stPtr = perPtr <b>asPtrTo</b></span><spanstyle='font-family:"Courier New"'> Student<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Dosomething using stPtr...<o:p></o:p></i></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Since pointers can also be incremented and decrementeddirectly, pointer casting is not necessary in some cases, such as:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = p + 4<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- Increment a pointer<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>p = p &#8211; 4<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- Decrement a pointer<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Pointers may also be subtracted from one another, resultingin an integer.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = p &#8211; q<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- The difference betweentwo pointers is an int<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>However, pointers may not be added:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = p + q<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>-- Compile-time error<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>asInteger</b><span style='font-weight:normal'>operation is safe, but the </span><b>asPtrTo</b><span style='font-weight:normal'>operation is considered unsafe since an error in its use may lead to a systemcrash.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818348"><span style='font-size:18.0pt'>Operators andExpression Syntax</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has many of the same operators as C++ and Java.Furthermore, the syntax of expressions is very similar, so the operators fromC++ and Java are parsed using the same precedence and associativity rules as inC++ and Java.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The various expression operators are listed here, along witha few remarks. The operators are grouped and listed from lowest precedence tohighest precedence.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================= (LowestPrecedence) ================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;</span>All keyword messages, e.g., x at:y put:z<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>All infixoperators not mentioned below<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>||<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>Short-circuit OR for <b>bool</b></span><spanstyle='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&amp;&amp;<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>Short-circuit AND for<b>bool</b></span><span style='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Bitwise OR for <b>int</b></span><spanstyle='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>^<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Bitwise XOR for<b>int</b></span><span style='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&amp;<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Bitwise AND for<b>int</b></span><span style='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>==<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>Can compare basic types,pointers,<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>!=<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>andobjects, but not records or arrays<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Can compare <b>int</b></span><spanstyle='font-family:"Courier New"'>, <b>double</b></span><span style='font-family:"Courier New"'>, and<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;=<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pointer operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&gt;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&gt;=<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>=======================================================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;&lt;<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>Shift <b>int</b></span><spanstyle='font-family:"Courier New"'> operand left<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&gt;&gt;<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>Shift <b>int</b></span><spanstyle='font-family:"Courier New"'> operand right arithmetic<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&gt;&gt;&gt;<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>Shift <b>int</b></span><span style='font-family:"Courier New"'> operandright logical<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>+<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Can also add <b>ptr</b></span><spanstyle='font-family:"Courier New"'>+<b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>-<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Can also subtract <b>ptr</b></span><spanstyle='font-family:"Courier New"'>-<b>int</b></span><span style='font-family:"Courier New"'> and <b>ptr</b></span><span style='font-family:"Courier New"'>-<b>ptr</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>*<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>For <b>int</b></span><spanstyle='font-family:"Courier New"'>, always truncates down; -7/3 =&gt; -3 <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Modulo operatorfor integers<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Prefix <b>-</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>For <b>int</b></span><spanstyle='font-family:"Courier New"'> and <b>double</b></span><spanstyle='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Prefix <b>!</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>For <b>int</b></span><spanstyle='font-family:"Courier New"'> and <b>bool</b></span><spanstyle='font-family:"Courier New"'> operands<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Prefix <b>*</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Pointer dereferencing<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Prefix <b>&amp;</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Address-of<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>All otherprefix methods<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>=======================================================<o:p></o:p></span></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Message Sending: x.foo(y,z)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Field Accessing: x.name<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>asPtrTo<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>asInteger<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>arraySize<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>isInstanceOf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>isKindOf</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[]<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Array Accessing: a[i,j]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>======================================================= <o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>()<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Parenthesized expressions: x*(y+z)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>constants<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>e.g.,123, &quot;hello&quot;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>keywords<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>i.e., <b>true</b></span><span style='font-family:"Courier New"'>, <b>false</b></span><spanstyle='font-family:"Courier New"'>, <b>null</b></span><span style='font-family:"Courier New"'>, <b>self, super</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>variables<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>e.g., x<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>functioncall<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>e.g., foo(4)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>new<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>e.g., <b>new</b></span><spanstyle='font-family:"Courier New"'> Person{name=&quot;smith&quot;}<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>alloc </b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>e.g., <b>alloc</b></span><spanstyle='font-family:"Courier New"'> Person{name=&quot;smith&quot;}<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sizeOf </b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>e.g., <b>sizeOf</b></span><spanstyle='font-family:"Courier New"'> Person (in bytes)<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>================= (HighestPrecedence) ================ <o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818349"><span style='font-size:18.0pt'>Constants and Enums</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The programmer may associate names with constant values,using the <b>const</b><span style='font-weight:normal'> construct. Here is anexample:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>const<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>MAX = 1000<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>HALF_MAX = MAX/ 2<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span>PI = 3.14159265358979<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DEBUG = <b>false</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NEWLINE = '\n'<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MESSAGE =&quot;Hello, world!&quot;<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>EMPTY_LIST = <b>null</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The compiler must be able to evaluate all of the expressionsin <b>const</b><span style='font-weight:normal'> definitions at compile-time.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Note that the value of HALF_MAX is an expression, but thisis okay since it can be evaluated at compile-time. The expressions in <b>const</b><spanstyle='font-weight:normal'> definitions may involve only immediate values andother </span><b>const</b><span style='font-weight:normal'> definitions, eventhough they may use a </span><b>const</b><span style='font-weight:normal'>definition that occurs later in the file. For example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><b><br clear=ALL style='page-break-before:always'></b></span><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun: yes">&nbsp;</span><b>header<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>const<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A =100<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>const<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>B =C*3<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>const<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C =A-9<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endHeader</b></span><b><o:p></o:p></b></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The expression after the = must have one of the followingtypes:</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>int<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>double<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>bool<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>char<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>ptr to array of char</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>-- i.e., a string constant<b><o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>null<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The compiler will make an effort to evaluate all expressionsin the program at compile-time. For example, the following statement</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = HALF_MAX + 3<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>will be simplified and compiled identically to</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>i = 503<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL also includes an <b>enum</b><span style='font-weight:normal'> construct. Here is an example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>enum</b></span><span style='font-family:"Courier New"'>NO_ERR, WARNING, NORMAL_ERR, FATAL_ERR <o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>enum</b><span style='font-weight:normal'> isshorthand for a sequence of </span><b>const</b><span style='font-weight:normal'>definitions, defining sequential integer constants. In this example, the above </span><b>enum</b><spanstyle='font-weight:normal'> is equivalent to the following:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>const</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>NO_ERR = 1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>WARNING = 2<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>NORMAL_ERR = 3<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>FATAL_ERR = 4<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The default starting value is 1, but you may specify adifferent starting value. The general form is:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>enum</b></span><span style='font-family:"Courier New"'>ID [ = ...<i>Expression...</i></span><span style='font-family:"Courier New"'> ]{ , ID }<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <i>Expression</i><span style='font-style:normal'> mustbe an integer expression which can be evaluated at compile-time. For example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;</span><b>enum</b></span><span style='font-family:"Courier New"'>A=charToInt('A'), B, C, D, E<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Both <b>const</b><span style='font-weight:normal'> and </span><b>enum</b><spanstyle='font-weight:normal'> constructs may appear in either the header file orthe code file. The placement of the </span><b>const</b><span style='font-weight:normal'> or </span><b>enum</b><span style='font-weight:normal'> determines thevisibility of the names it defines. The recommendation is that the namesdefined </span><b>const</b><span style='font-weight:normal'> and </span><b>enum</b><spanstyle='font-weight:normal'> definitions be fully capitalized, as in the aboveexamples.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818350"><span style='font-size:18.0pt'>Errors andTry-Throw-Catch</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL has a try-throw-catch mechanism like Java, but withsomewhat simpler semantics.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>try</b><span style='font-weight:normal'> statementincludes a body of statements and a number of </span><b>catch</b><spanstyle='font-weight:normal'> clauses. Here is an example:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>try<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...BodyStatements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>catch</b></span><spanstyle='font-family:"Courier New"'> myError (i: <b>int</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>catch</b></span><spanstyle='font-family:"Courier New"'> error2 (a,b: <b>char</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>catch</b></span><spanstyle='font-family:"Courier New"'> FATAL_ERR ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>...Statements...<o:p></o:p></i></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endTry<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>As in Java, the body statements are executed first. If noerror is thrown, none of the <b>catch</b><span style='font-weight:normal'>clauses is executed. If an error is thrown during the execution of the bodystatements, then a matching </span><b>catch</b><span style='font-weight:normal'>is searched for.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If a matching <b>catch</b><span style='font-weight:normal'>clause is found in the </span><b>try</b><span style='font-weight:normal'>statement, the corresponding error handling statements are executed. The bodystatements are never re-entered or returned to; instead execution continueswith the statement after the </span><b>endTry</b><span style='font-weight:normal'>.It is also possible that the error handling statements in the </span><b>catch</b><spanstyle='font-weight:normal'> clause will contain a </span><b>return</b><spanstyle='font-weight:normal'>, </span><b>break</b><span style='font-weight:normal'>,</span><b>continue</b><span style='font-weight:normal'>, or </span><b>throw</b><spanstyle='font-weight:normal'> statement, which will cause execution to leave the </span><b>try</b><spanstyle='font-weight:normal'> statement.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>If no matching <b>catch</b><span style='font-weight:normal'>clause is found, then the </span><b>try</b><span style='font-weight:normal'>statement itself terminates and the error is propagated upward and outward.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>An error can be thrown explicitly by executing a <b>throw</b><spanstyle='font-weight:normal'> statement. Here is an example </span><b>throw</b><spanstyle='font-weight:normal'> statement:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>throw</b></span><spanstyle='font-family:"Courier New"'> myError (5)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>An error may also be thrown by the runtime system during thecourse of program execution.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Argument values may be passed to the error handlingstatements. In KPL, the throw-catch process is similar to a function invocationsince argument values are copied to parameter variables. However, unlike Java,there is no error object and errors are not related in any hierarchy.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, each error must be declared. Here is an errordeclaration:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>errors</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>myError (i: <b>int</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>error2 (a,b: <b>char</b></span><spanstyle='font-family:"Courier New"'>)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FATAL_ERR ()<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The error declaration tells the compiler how many and whattypes of arguments are expected when a given error is thrown or caught. Thecompiler then checks the <b>throw</b><span style='font-weight:normal'>statements and </span><b>catch</b><span style='font-weight:normal'> clauses,much like it checks function definitions and call statements.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>An error declaration may occur in either a header or codefile. If an error is declared in the code file, it may only be thrown andcaught by code in that package. If declared in the header file, the error canbe thrown and/or caught in any package that uses that package. Each error mustbe declared exactly once.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In Java, the <b>try</b><span style='font-weight:normal'>statement has a finally clause, with rather complex semantics. KPL does nothave a finally clause.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In Java, each method must say which errors it might throw.These are listed in the method header after the throws keyword and the Javacompiler ensures that all errors will be caught by some <b>try</b><spanstyle='font-weight:normal'> statement. There is no corresponding construct inKPL. Thus, it is possible for a method or function to throw an error that isuncaught. When this occurs, the runtime system will throw a secondgeneral-purpose uncaught-error error. If this too is not caught, a fatalruntime error will occur and execution will halt.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818351"><span style='font-size:18.0pt'>Regarding Naming andScope Rules</span></a><span style='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Many programming languages allow lexical scoping of variabledeclarations: variables in inner scopes will hide variables declared in outerscopes. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>begin</b></span><spanstyle='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- This is not KPL<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> x: <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>begin<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> x: <b>int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>end<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>end</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL adopts the exact opposite philosophy: in KPL, namehiding is not allowed. The names of parameters and locals must be different andmust be different from global variables. Also, things of different sorts, liketypes, constants, errors, functions, classes, interfaces, and global variablesmust all have different names.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>For example, a type definition and a global variable may nothave the same name:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>type</b></span><spanstyle='font-family:"Courier New"'> t = <b>record</b></span><spanstyle='font-family:"Courier New"'> ... <b>endRecord</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> t: <b>int</b></span><span style='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Compile-time error<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is another example, showing that local names may notcollide with or hide global variable names.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> i: <b>int<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>function</b></span><spanstyle='font-family:"Courier New"'> foo (...)<b><o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>var</b></span><spanstyle='font-family:"Courier New"'> i: <b>int</b></span><span style='font-family:"Courier New"'><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Compile-time error<b><o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>endFunction</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>While this might seem overly restrictive, the KPL scopingrules are intended to make programs clearer and more reliable. Having multipleentities with the same name may introduce confusion and increase opportunitiesfor bugs. In KPL, the programmer has to do a little more work when writingprograms, but the resulting programs are easier to read and understand.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>After all, it is not hard to ensure that all variables havedifferent names. A variable name can easily be made unique by adding acharacter or two to its name.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> i2: <b>int<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>When some package uses several other packages, it ispossible that two of the used packages both contain variables with the samename. In such case a name collision occurs. For example, assume that packageX uses packages A and B. Assume that package A defines a variable calledmyVar and package B defines another variable, by coincidence also calledmyVar. Within package X, a problem arises: what does myVar refer to?</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In KPL, name collisions are not allowed. Within eachpackage, each different entity must have a different name.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Since it is not always practical to modify any package atwill, the <b>uses</b><span style='font-weight:normal'> clause has additionalsyntax that allows entities from another package to be renamed. The </span><b>renaming</b><spanstyle='font-weight:normal'> clause is used to avoid name collisions.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In this example, package X could be coded like this:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>package</b></span><spanstyle='font-family:"Courier New"'> X<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>uses<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A <b>renaming</b></span><spanstyle='font-family:"Courier New"'> myVar <b>to</b></span><spanstyle='font-family:"Courier New"'> myVarA,<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>B <b>renaming</b></span><spanstyle='font-family:"Courier New"'> myVar <b>to</b></span><spanstyle='font-family:"Courier New"'> myVarB<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endPackage<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within package X, the variable from A will be referred tousing the name myVarA and the variable from B will be called myVarB.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form of the <b>uses</b><span style='font-weight:normal'> clause is this:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>uses</b></span><spanstyle='font-family:"Courier New"'> <i>OtherPackage</i></span><spanstyle='font-family:"Courier New"'> { , <i>OtherPackage</i></span><spanstyle='font-family:"Courier New"'> }<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Where <i>OtherPackage</i><span style='font-style:normal'>has this form:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>ID [ <b>renaming</b></span><spanstyle='font-family:"Courier New"'> ID <b>to</b></span><span style='font-family:"Courier New"'> ID { , ID <b>to</b></span><span style='font-family:"Courier New"'>ID } ]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'>A package may define and export thefollowing kinds of things for use in other packages.</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>constants<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>types<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>global variables<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>functions<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>classes<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>interfaces<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>errors<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within any package, all of the above entities must haveunique names, regardless of whether they are defined in the package orinherited from another package, and regardless of whether any reference to themactually occurs in the package. The <b>renaming</b><span style='font-weight:normal'> clause can be used to rename any of these, as necessary, to avoid namecollisions.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818352"><span style='font-size:18.0pt'>Parameterized Classes</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Classes may be parameterized. Here is an example with two parameterizedclasses:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><span style='font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL style='page-break-before:always'></span><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> List [T:<b>anyType</b></span><spanstyle='font-family:"Courier New"'>]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>superclass</b></span><spanstyle='font-family:"Courier New"'> Object<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>first: <b>ptr to</b></span><span style='font-family:"Courier New"'>ListItem [T]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>last: <b>ptr to</b></span><span style='font-family:"Courier New"'>ListItem [T]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Prepend (p: <b>ptr to</b></span><span style='font-family:"Courier New"'>T)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Append (p: <b>ptr to</b></span><span style='font-family:"Courier New"'>T)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Remove () <b>returns ptr to</b></span><span style='font-family:"Courier New"'>T<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>IsEmpty () <b>returns bool</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ApplyToEach (f: <b>ptr to function</b></span><span style='font-family:"Courier New"'> (<b>ptr to</b></span><span style='font-family:"Courier New"'>T))<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> ListItem [T:<b>anyType</b></span><spanstyle='font-family:"Courier New"'>]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>superclass</b></span><spanstyle='font-family:"Courier New"'> Object<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fields<o:p></o:p></b></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>elementPtr: <b>ptr to</b></span><span style='font-family:"Courier New"'>T<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>next: <b>ptr to</b></span><span style='font-family:"Courier New"'>ListItem [T]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The idea is that instances of class List will contain anumber of elements of type T, where the type of the elements can be any type.We can have lists of integers, lists of Person objects, and so on.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Each list will be represented with a single instance ofclass List which will contain pointers to the first and last elements in alinked list of instances of class ListItem. Each time an element is added tothe list, we will create a new ListItem object and link it into the list. Wewant to be able to place any kind of thing in the list, so this program storesand manipulates pointers to the elements, not the elements themselves. EachListItem will point to a single element and also to the next ListItem in thelist.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Whenever we use the List type, we must provide a typeargument for the parameter T. For example, we can define a list of Persons,where Person is a class defined elsewhere:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> perList: List [Person]<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>We can also use other kinds of lists:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> intList: List [<b>int</b></span><spanstyle='font-family:"Courier New"'>]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>boolList: List [<b>bool</b></span><span style='font-family:"Courier New"'>]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>otherList: List [AnotherClass]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>listOfLists: List [List [<b>anyType</b></span><span style='font-family:"Courier New"'>]]<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Every item on perList list will be a Person, or a subclassof Person. Every item on intList will be an <b>int</b><span style='font-weight:normal'>, and so on.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>We can create new instances of a parameterized class usingeither <b>new</b><span style='font-weight:normal'> or </span><b>alloc</b><spanstyle='font-weight:normal'>, just as with any non-parameterized class.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perList= <b>new</b></span><spanstyle='font-family:"Courier New"'> List[Person] {first = <b>null</b></span><spanstyle='font-family:"Courier New"'>, last = <b>null</b></span><spanstyle='font-family:"Courier New"'>}<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>We can manipulate the instances of parameterized classes inthe same ways as non-parameterized classes. For example, we can send messagesto the List object to add and remove elements from the list. AssumeperPtrpoints to a Person object; we can add it to the list with this code:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> perPtr: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person = ...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perList.Append (perPtr)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Likewise, we can add elements to the intList.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> i: <b>int</b></span><span style='font-family:"Courier New"'> = 12345<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>intList.Append (&amp;i)<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is the code for the Append method:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>behavior</b></span><spanstyle='font-family:"Courier New"'> List<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>method</b></span><spanstyle='font-family:"Courier New"'> Append (p: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> T)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> item: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> ListItem [T]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>item = <b>alloc</b></span><spanstyle='font-family:"Courier New"'> ListItem [T] { next = <b>null</b></span><spanstyle='font-family:"Courier New"'>, elementPtr = p }<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> self.IsEmpty ()<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>first = item<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>last = item<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>else<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>last.next = item<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>last = item<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endMethod<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endBehavior<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within the implementation part of a parameterized class(i.e., within the <b>behavior</b><span style='font-weight:normal'> construct),we can use type parameters. In the above example, we see T being used as atype in the implementation of the List methods.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The List class also has a method called ApplyToEach. Thismethod is passed a function. It runs through the list and invokes that functiononce on each element in the list. Assume that we have a function that prints aPerson object.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>function</b></span><spanstyle='font-family:"Courier New"'> printPerson (p: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> Person)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>print (&quot;A Person with name = &quot;)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>print (p.name)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>print (&quot;\n&quot;)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFunction<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>In the next statement, this function is invoked for eachPerson in the list, thereby printing all their names.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>perList.ApplyToEach(printPerson)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Here is the code for method ApplyToEach:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>method</b></span><spanstyle='font-family:"Courier New"'> ApplyToEach (f: <b>ptr to function</b></span><spanstyle='font-family:"Courier New"'> (<b>ptr to</b></span><span style='font-family:"Courier New"'> T))<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> p: <b>ptr to</b></span><spanstyle='font-family:"Courier New"'> ListItem [T]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>for</b></span><spanstyle='font-family:"Courier New"'> (p = first; p; p = p.next)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>f(p.elementPtr)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>endFor<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><b><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>endMethod</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The compiler will type-check all expressions involvingparameterized types. If the programmer makes a type error, it will be caught atcompile time. For example, an attempt to add a Person to a list of integerswill be caught:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>intList.Append(perPtr)<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-- Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Likewise, an attempt to apply printPerson to the elementsof intList is in error:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>intList.ApplyToEach(printPerson)<span style="mso-spacerun: yes">&nbsp; </span>-- Compile-timeerror!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The general form of a class specification was given earlieras:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> ID [ <i>...Type Parameters...</i></span><spanstyle='font-family:"Courier New"'> ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <i>TypeParameters</i><span style='font-style:normal'>are optional. If present, they are enclosed in brackets. In more detail, hereis how a class definition begins:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> ID [ '[' ID: type, ID: type, ... ID: type']' ]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Within the brackets is a list of one or more typeparameters. Each type parameter has an associated constraint type whichfollows the colon. Here are examples:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> List [T:<b>anyType</b></span><spanstyle='font-family:"Courier New"'>] ... <b>endClass</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> TaxableList [Txbl:Taxable] ... <b>endClass</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> Mapping [Key:Hashable, Value:<b>anyType</b></span><spanstyle='font-family:"Courier New"'>] ... <b>endClass</b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Whenever a parameterized class is instantiated, the typeargument must be a subtype of the constraint type. In this example, Taxableand Hashable must be interfaces or classes defined elsewhere. The keyword <b>anyType</b><spanstyle='font-weight:normal'> signifies a predefined type that is the supertypeof all other types. When used as a constraint type, it allows any type to beused when the parameterized class is instantiated.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Let us assume that Taxable is an interface. WheneverTaxableList is instantiated, the type argument must be a class or interfacethat implements the Taxable interface. Assume that Company is a class thatimplements the Taxable interface and that Vehicle is a class that does notimplement the Taxable interface. Then a TaxableList of Companys is okay, buta TaxableList of Vehicles would be in error.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>var</b></span><spanstyle='font-family:"Courier New"'> listA: TaxableList [Company]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>listB: TaxableList [Vehicle]<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>-- Compile-time error!<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Now assume that the Taxable interface includes aComputeTaxes message. All classes that implement the Taxable interface willhave to provide a method for ComputeTaxes, although different classes mayimplement ComputeTaxes differently. Within the implementation of TaxableList,the message ComputeTaxes may be sent to any variable with type Txbl, sincewhatever kind of object it is, it must implement the Taxable interface.Therefore, it must understand the message.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The KPL compiler implements parameterized classes usingshared code. In other words, there will be only one copy of the code formethods like Append and ApplyToEach. This code will be shared and used by alllists, whether they are lists of Persons, list of integers, or whatever.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Parameterized interfaces can also be defined, in much thesame way as parameterized classes. For example:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>interface</b></span><spanstyle='font-family:"Courier New"'> Collection [T:<b>anyType</b></span><spanstyle='font-family:"Courier New"'>]<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>messages<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Append (p: <b>ptr to</b></span><span style='font-family:"Courier New"'>T)<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Size () <b>returns int</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>IsEmpty () <b>returns bool</b></span><span style='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endInterface<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Given the above definition of Collection, we could alter thedefinition of List to make it implement Collection:</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>class</b></span><spanstyle='font-family:"Courier New"'> List [T:<b>anyType</b></span><spanstyle='font-family:"Courier New"'>]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>implements</b></span><spanstyle='font-family:"Courier New"'> Collection [T]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>superclass</b></span><spanstyle='font-family:"Courier New"'> Object<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fields<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>methods<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endClass<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The Collection interface requires a method called Size,which was not in our original definition of List. The compiler will produce anerror, unless we add a Size method to class List.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Parameterized classes and interfaces are most useful in theimplementation of general-purpose data structures such as sets, lists, look-uptables, and so on. Without parameterized classes, these sorts of classes, whichmust handle arbitrary types of data, must work around the compilerstype-checking system. While this can be done in KPL (with features like <b>ptrto void</b><span style='font-weight:normal'> and </span><b>asPtrTo</b><spanstyle='font-weight:normal'>), any program bugs may cause the program to crashcatastrophically. However, if parameterized classes are used, the compiler cantype-check much more of the program and thereby increase the reliability of theprogram.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818353"><span style='font-size:18.0pt'>The Debug Statement</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>KPL contains a statement which consists of the singlekeyword <b>debug</b><span style='font-weight:normal'>. Here is an example pieceof code, containing a </span><b>debug</b><span style='font-weight:normal'>statement:</span></p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>if</b></span><spanstyle='font-family:"Courier New"'> perPtr<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i = 123456<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>debug<o:p></o:p></b></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x = f1 (3)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><b>endIf<o:p></o:p></b></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The <b>debug</b><span style='font-weight:normal'> statementhas two uses.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>First, when executed, the <b>debug</b><spanstyle='font-weight:normal'> statement will immediately halt program execution.The statement is compiled into the debug machine instruction, which willcause the BLITZ virtual machine to cease emulation and enter command mode. Forexample, if the above code is executed, the user will see the following:</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>****<spanstyle="mso-spacerun: yes">&nbsp; </span>A 'debug' instruction wasencountered<span style="mso-spacerun: yes">&nbsp; </span>*****<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Done!<spanstyle="mso-spacerun: yes">&nbsp; </span>The next instruction to execute willbe:<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>0015bc: 87d0001a<spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>or<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>r0,0x001a,r13<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>! decimal: 26, ascii:&quot;..&quot;<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>&gt;<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The user may then enter the stack command to see where executionwas suspended and can then execute the go command to resume execution.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>&gt; <b><u>st</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Function/Method<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Frame Addr<spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>Execution at...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>====================<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>==========<span style="mso-spacerun: yes">&nbsp;&nbsp;</span>=====================<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>main<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>00FFFEF8<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>test0.c, line 25<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Bottom of activation framestack!<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>&gt; <b><u>g</u></b></span><spanstyle='font-family:"Courier New"'><o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>Beginning execution...<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The second use of the <b>debug</b><span style='font-weight:normal'> statement is when the programmer wishes to examine the target assemblycode produced by the compiler. Since the target code can be lengthy anddifficult to navigate, the </span><b>debug</b><span style='font-weight:normal'>statement can be used to flag a location of interest in the target file.</span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Below is a section of the target file produced by the KPLcompiler for the above source code. This is a small portion of a large file,but it is easy to locate the code of interest. When examining this, note thatall material following an exclamation (!) is commenting added by the compiler.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>! IF STATEMENT...<o:p></o:p></span></p><p class=MsoHeader style='tab-stops:.5in'><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>23,r13<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>! sourceline 23<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>!<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>if _Global_perPtr == 0 then goto _Label_21<spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(int)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>set<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>_Global_perPtr,r1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>load<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>[r1],r1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>0,r2<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cmp<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>r1,r2<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>be<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>_Label_21<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>! THEN...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>! ASSIGNMENT STATEMENT...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>24,r13<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>! sourceline 24<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>!<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>i = 123456<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(4 bytes)<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>set<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>123456,r1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>store<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>r1,[r14+-52]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>! --------------------<spanstyle="mso-spacerun: yes">&nbsp; </span>DEBUG<span style="mso-spacerun:yes">&nbsp; </span>--------------------<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>25,r13<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>! sourceline 25<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>debug<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;</span><span style="mso-spacerun:yes">&nbsp;&nbsp; </span>! ASSIGNMENT STATEMENT...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>26,r13<span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>! sourceline 26<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>!<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>Prepare Argument: offset=8<span style="mso-spacerun:yes">&nbsp; </span>value=3<span style="mso-spacerun: yes">&nbsp;</span>sizeInBytes=4<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>3,r1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>store<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>r1,[r15+0]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>!<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>Call the function<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>call<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>_function_11_f1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>!<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>Retrieve Result: targetName=x<spanstyle="mso-spacerun: yes">&nbsp; </span>sizeInBytes=4<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>load<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>[r15],r1<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>store<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>r1,[r14+-56]<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>! END IF...<o:p></o:p></span></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>_Label_21:<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The instruction following the debug instruction is a movinstruction which is a synthetic instruction. The instruction</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>26,r13<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>is expanded by the assembler into</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='font-family:"Courier New"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>or<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>r0,26,r13<o:p></o:p></span></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>which is what was displayed as the next instruction whenexecution halted after the debug.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><h2><a name="_Toc51818354"><span style='font-size:18.0pt'>Conclusion</span></a><spanstyle='font-size:18.0pt'><o:p></o:p></span></h2><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>No programming language is perfect and no programminglanguage can address all potential applications with equal facility. The KPLlanguage has been designed for students to use to write a simple operatingsystem within a college course of one or two terms. The features which havebeen included in the language have been selected with this in mind.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The KPL philosophy emphasizes reliability of the resultingprograms at the expense of all other considerations. When reliability isemphasized, one effect is that overall coding time should be reduced.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>One way this philosophy is manifested is in the greaterdegree of runtime checking. For example, all pointer and array operations arechecked at runtime and errors are caught and reported immediately. Anothermanifestation is that the language was designed with the explicit aim ofencouraging program readability, even if this seems to make the language moredifficult to write.</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Simplicity in programming languages is always a good thing,leading to better compilers, easier programming, greater efficiency, andincreased program reliability. The overall goal of the BLITZ project is tocreate a simplified, but real, operating system for students to study. It isthe hope that the KPL programming language is simple enough to be both useableand fun to code in, while being complete enough for the real work ofimplementing operating system kernel code.</p><p class=MsoHeader style='tab-stops:.5in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p></div></body></html>