<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns:css="http://macVmlSchemaUri" xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta name=Title content="Project 6">
<meta name=Keywords content="">
<meta http-equiv=Content-Type content="text/html; charset=macintosh">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 2008">
<meta name=Originator content="Microsoft Word 2008">
<link rel=File-List href="proj6_files/filelist.xml">
<title>Project 6</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Harry H. Porter III</o:Author>
  <o:Template>Normal.dotm</o:Template>
  <o:LastAuthor>Harry</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>7531</o:TotalTime>
  <o:LastPrinted>2009-06-03T04:51:00Z</o:LastPrinted>
  <o:Created>2009-06-03T04:52:00Z</o:Created>
  <o:LastSaved>2009-06-03T04:52:00Z</o:LastSaved>
  <o:Pages>8</o:Pages>
  <o:Words>6377</o:Words>
  <o:Characters>33803</o:Characters>
  <o:Lines>1165</o:Lines>
  <o:Paragraphs>650</o:Paragraphs>
  <o:CharactersWithSpaces>44645</o:CharactersWithSpaces>
  <o:Version>12.0</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:ActiveWritingStyle Lang="EN-US" VendorID="6" DLLVersion="2" NLCheck="0">1</w:ActiveWritingStyle>
  <w:SpellingState>Clean</w:SpellingState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:HyphenationZone>0</w:HyphenationZone>
  <w:DoNotHyphenateCaps/>
  <w:DrawingGridHorizontalSpacing>0 pt</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>0 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:ValidateAgainstSchemas>false</w:ValidateAgainstSchemas>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotUnderlineInvalidXML/>
  <w:DrawingGridHorizontalOrigin>0 pt</w:DrawingGridHorizontalOrigin>
  <w:DrawingGridVerticalOrigin>0 pt</w:DrawingGridVerticalOrigin>
  <w:DoNotShadeFormData/>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:UseNormalStyleForList/>
   <w:DontUseIndentAsNumberingTabStop/>
   <w:DontGrowAutofit/>
   <w:FELineBreak11/>
   <w:WW11IndentRules/>
   <w:DontAutofitConstrainedTables/>
   <w:AutofitLikeWW11/>
   <w:HangulWidthLikeWW11/>
  </w:Compatibility>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="276">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:"Courier New";
	panose-1:2 7 3 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Times;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:2 2 5 2 6 3 5 6 2 4;
	mso-font-charset:77;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-hansi-font-family:Times;
	mso-font-kerning:0pt;
	text-decoration:underline;
	text-underline:single;}
h2
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-hansi-font-family:Times;
	text-decoration:underline;
	text-underline:single;}
h3
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-hansi-font-family:Times;
	text-decoration:underline;
	text-underline:single;}
h4
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:20.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-hansi-font-family:Times;}
h5
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:5;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";}
h6
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:6;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-hansi-font-family:Times;
	color:black;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.25in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";}
p.MsoBodyText2, li.MsoBodyText2, div.MsoBodyText2
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
p.MsoBodyText3, li.MsoBodyText3, div.MsoBodyText3
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
p.MsoBodyTextIndent2, li.MsoBodyTextIndent2, div.MsoBodyTextIndent2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	color:purple;
	text-decoration:underline;
	text-underline:single;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
 /* Page Definitions */
@page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in .75in 1.0in .75in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-header:url(":proj6_files:header.htm") h1;
	mso-footer:url(":proj6_files:header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:"New York";
	mso-hansi-font-family:"New York";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:20.0pt;mso-bidi-font-size:10.0pt'>Programming
Project 6:<o:p></o:p></span></b></p>

<h4>Multiprogramming with Fork</h4>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Due Date:</span></u></b><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span>______________________________</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Project Duration:</span></u></b><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span style="mso-spacerun:
yes">&nbsp; </span></span>One week</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3>Overview and Goal</h3>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>In this project, you will implement the following <span
class=SpellE>syscalls</span>: <b style='mso-bidi-font-weight:normal'>Fork</b>, <b
style='mso-bidi-font-weight:normal'>Join</b>, <b style='mso-bidi-font-weight:
normal'>Exit</b>, and <b style='mso-bidi-font-weight:normal'>Yield</b>.<span
style="mso-spacerun: yes">&nbsp; </span>After completing the previous project,
the OS could support a single user-level process.<span style="mso-spacerun:
yes">&nbsp; </span>In this project, you will add the necessary functionality to
run many user-level processes at once.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>Download New Files</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The files for this project are available in:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b
style='mso-bidi-font-weight:normal'><span style='font-family:Courier'>http://www.cs.pdx.edu/~harry/Blitz/OSProject/p6/</span></b><span
style='font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The following files are new to this project:</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-family:"Courier New"'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>TestProgram3.h<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-family:"Courier New"'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>TestProgram3.c<o:p></o:p></span></b></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The following files have been modified from the last
project:</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-family:"Courier New"'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>makefile</span><o:p></o:p></span></b></p>

<p class=MsoNormal><span style='font-family:"Courier New"'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><b style='mso-bidi-font-weight:
normal'>DISK<o:p></o:p></b></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The <span class=SpellE><b style='mso-bidi-font-weight:normal'>makefile</b></span>
has been modified to compile <b style='mso-bidi-font-weight:normal'>TestProgram3</b>.<span
style="mso-spacerun: yes">&nbsp; </span>The <b style='mso-bidi-font-weight:
normal'>DISK</b> file has been enlarged, since the previous version was too
small to accommodate <b style='mso-bidi-font-weight:normal'>TestProgram3</b>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>All remaining files are unchanged from the last project.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<b style='mso-bidi-font-weight:normal'><u><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Times;mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US'><br clear=ALL style='page-break-before:always'>
</span></u></b>

<h3>Task 1:</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Implement the <b style='mso-bidi-font-weight:normal'>Fork</b>
<span class=SpellE>syscall</span>.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>Task 2:</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Implement the following <span class=SpellE>syscalls</span>:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Join<o:p></o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Exit<o:p></o:p></b></p>

<h5><span style='font-family:Times'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Yield<o:p></o:p></span></h5>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>Changes to <span class=SpellE>Kernel.h</span> and <span class=SpellE>Kernel.c</span>:</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Please change <span class=SpellE><b style='mso-bidi-font-weight:
normal'>Kernel.h</b></span><b style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:.25in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>from:</p>

<p class=MsoFooter style='tab-stops:.5in'><span style='font-family:Courier'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES
= 100<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:.25in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>to:</p>

<p class=MsoFooter style='tab-stops:.5in'><span style='font-family:Courier'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES
= 512<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Please change your <span class=SpellE><b style='mso-bidi-font-weight:
normal'>InitFirstProcess</b></span> routine in <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Kernel.c</b></span><b style='mso-bidi-font-weight:
normal'><o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:.25in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>from:</p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>th.Fork</span> (<span
class=SpellE>StartUserProcess</span>, &quot;TestProgram1&quot; <span
class=SpellE>asInteger</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:.25in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>to:</p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>th.Fork</span> (<span
class=SpellE>StartUserProcess</span>, &quot;TestProgram3&quot; <span
class=SpellE>asInteger</span>)<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>The Fork <span class=SpellE>Syscall</span></h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>When a user-level process wishes
to create another process, it invokes the <b style='mso-bidi-font-weight:normal'>Fork</b>
<span class=SpellE>syscall</span>.<span style="mso-spacerun: yes">&nbsp;
</span>The kernel will then create a new process and assign it a process ID (a
“<span class=SpellE>pid</span>”).<span style="mso-spacerun: yes">&nbsp;
</span>This will involve creating a new logical address space, loading this
address space with bytes from the current address space, and creating a single
thread to run in the new space.<span style="mso-spacerun: yes">&nbsp;
</span>The kernel must also copy the CPU machine state (i.e., the registers) of
the current process and start the new process off running with this machine
state.<span style="mso-spacerun: yes">&nbsp; </span>Thus, the newly created
process is an exact clone of the first process.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>While we don’t have file I/O yet,
the <b style='mso-bidi-font-weight:normal'>Fork</b> <span class=SpellE>syscall</span>
must also ensure that all files that are open in the parent will also be open
in the child.<span style="mso-spacerun: yes">&nbsp; </span>You will need to add
this functionality to <b style='mso-bidi-font-weight:normal'>Fork</b> in a
later project, when file I/O is implemented.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>The initial “parent” process is
the one invoking the <b style='mso-bidi-font-weight:normal'>Fork</b>.<span
style="mso-spacerun: yes">&nbsp; </span>Its thread will do the work of creating
the new process.<span style="mso-spacerun: yes">&nbsp; </span>The new process
and its thread are immediately <span class=SpellE>runnable</span>, so the new
thread should be placed on the ready list.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>In the parent, after creating the
new process, the thread returns to the user-level code.<span
style="mso-spacerun: yes">&nbsp; </span>It returns the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>pid</b></span> of the child process.<span
style="mso-spacerun: yes">&nbsp; </span>In the child process, since it has
exactly the same state, once it runs, it too should return from the <b
style='mso-bidi-font-weight:normal'>Fork</b> <span class=SpellE>syscall</span>.<span
style="mso-spacerun: yes">&nbsp; </span>However, the value returned should be
zero.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'>If we make an exact copy of the
machine state, an exact copy of the system stack, an exact copy of the virtual
address space, and an exact copy of the user stack, it is easy to resume the
execution of the child process.<span style="mso-spacerun: yes">&nbsp;
</span>However, it will do <i style='mso-bidi-font-style:normal'>exactly</i>
what the parent process did.<span style="mso-spacerun: yes">&nbsp; </span>It is
rather difficult to make it do anything different, such as returning zero
instead of returning the <span class=SpellE><b style='mso-bidi-font-weight:
normal'>pid</b></span>.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3>The Parent-Child Relationship</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Each process will have a process ID and these are unique
across all processes, past, present and future.<span style="mso-spacerun:
yes">&nbsp; </span>(Of course, with a finite sized integer, there is the
possibility that the counter will wrap around; this would be disastrous, but
we’ll ignore the possibility.)<span style="mso-spacerun: yes">&nbsp; </span>A
new <span class=SpellE><b style='mso-bidi-font-weight:normal'>pid</b></span>
should have been assigned in the <span class=SpellE><b style='mso-bidi-font-weight:
normal'>ProcessManager.GetANewProcess</b></span> method you wrote earlier.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Each time a process does a <b style='mso-bidi-font-weight:
normal'>Fork</b>, it creates a child process.<span style="mso-spacerun:
yes">&nbsp; </span>A single process may create zero, one, or many
children.<span style="mso-spacerun: yes">&nbsp; </span>The children may go on
to create other children, which are called “descendants” of the original
“ancestor.”<span style="mso-spacerun: yes">&nbsp; </span>The parent may
terminate before its children, or some or all of its children may terminate
first.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Given a process, you will occasionally need to know which
process is its parent.<span style="mso-spacerun: yes">&nbsp; </span>The <span
class=SpellE><b style='mso-bidi-font-weight:normal'>ProcessControlBlock</b></span>
contains a field called <span class=SpellE><b style='mso-bidi-font-weight:normal'>parentsPid</b></span>,
which you can use.<span style="mso-spacerun: yes">&nbsp; </span>The simplest
approach is to search the <span class=SpellE><b style='mso-bidi-font-weight:
normal'>processManager.processTable</b></span> array, looking for a process
with that <span class=SpellE><b style='mso-bidi-font-weight:normal'>pid</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>This linear search will take a little
while, but not too long.<span style="mso-spacerun: yes">&nbsp; </span>Likewise,
if you want the child of a process P, you can do a linear search over the array
looking for a process whose <span class=SpellE><b style='mso-bidi-font-weight:
normal'>parentsPid</b></span> is P.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>In general, linear searches are to be avoided in OS kernels,
but in our simplified OS, a linear search of PCBs is acceptable.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You might think that it would be smarter to store a pointer
to the PCB of the parent right in the PCB of the child.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><span style='font-family:Courier'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>class <span
class=SpellE>ProcessControlBlock</span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;
</span>fields<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;
</span><span style="mso-spacerun: yes">&nbsp;</span>...<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>parent: <span class=SpellE>ptr</span> to <span
class=SpellE>ProcessControlBlock</span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>-- an idea???<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;
</span>...<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>endClass</span><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Unfortunately, there is a problem with this approach.<span
style="mso-spacerun: yes">&nbsp; </span>PCBs are recycled when a process
terminates and are then used for other processes.<span style="mso-spacerun:
yes">&nbsp; </span>If we store a pointer to a PCB in the <b style='mso-bidi-font-weight:
normal'>parent</b> field, when we need the parent and we follow this pointer,
we might get a PCB that now holds a completely unrelated process.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Although the linear search approach is just fine, a better
design would be to store both a pointer to the parent’s PCB and the parent’s <span
class=SpellE>pid</span>.<span style="mso-spacerun: yes">&nbsp; </span>Then you
can follow the pointer to a PCB and then check to make sure that <span
class=SpellE>pid</span> of this PCB is the <span class=SpellE>pid</span> of the
parent.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>[Our OS will differ a little from Unix/Linux in how we deal
with a parent which has terminated.<span style="mso-spacerun: yes">&nbsp;
</span>In our OS, the parent (P) of process (C) may have terminated, and you
will need to check for this possibility.<span style="mso-spacerun: yes">&nbsp;
</span>In Unix/Linux, when a process P terminates, all of its children
processes are given a new parent.<span style="mso-spacerun: yes">&nbsp;
</span>In particular, all children are “<span class=SpellE>reparented</span>”
to become children of whichever process was previously the parent of P.<span
style="mso-spacerun: yes">&nbsp; </span>In other words, the “grandparent” takes
over as parent when the parent dies.<span style="mso-spacerun: yes">&nbsp;
</span>Thus, in Unix/Linux, every process will always have a parent.]</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3>Implementing Handle-Sys-Fork</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The code that implements the <b style='mso-bidi-font-weight:
normal'>Fork</b> <span class=SpellE>syscall</span> needs to do (more-or-less)
the following:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1.<span
style='mso-tab-count:1'>&nbsp; </span>Allocate and set up new <b
style='mso-bidi-font-weight:normal'>Thread</b> and <span class=SpellE><b
style='mso-bidi-font-weight:normal'>ProcessControlBlock</b></span> objects.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2.<span
style='mso-tab-count:1'>&nbsp; </span>Make a copy of the address space.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3.<span
style='mso-tab-count:1'>&nbsp; </span>Invoke <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Thread.Fork</b></span> to start up the new
process’s thread.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4.<span
style='mso-tab-count:1'>&nbsp; </span>Return the child’s <span class=SpellE><b
style='mso-bidi-font-weight:normal'>pid</b></span>.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'>The newly started thread needs
to do the following:</p>

<p class=MsoFooter style='tab-stops:.5in 49.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A.<span
style='mso-tab-count:1'> </span>Initialize the user registers.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>B.<span
style='mso-tab-count:1'> </span>Initialize the user and system stacks.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C.<span
style='mso-tab-count:1'> </span>Figure out where in the user’s address space to
“return” to.</p>

<p class=MsoNormal style='tab-stops:.5in 49.5pt'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>D.<span
style='mso-tab-count:1'> </span>Invoke <span class=SpellE><b style='mso-bidi-font-weight:
normal'>BecomeUserThread</b></span> to jump into the new user-level process.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Let’s call the initial function to be executed by the newly
created thread, <span class=SpellE><b style='mso-bidi-font-weight:normal'>ResumeChildAfterFork</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>This is a kernel function you’ll need
to add to <span class=SpellE><b style='mso-bidi-font-weight:normal'>Kernel.c</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>The <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span> function will
perform steps 1 through 4 above, which will include creating a new thread.<span
style="mso-spacerun: yes">&nbsp; </span>The new thread will begin by executing
the <span class=SpellE><b style='mso-bidi-font-weight:normal'>ResumeChildAfterFork</b></span>,
which will perform steps A through D, completing the operation of starting the
new process.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>There are many details, so next we will go through these
steps more carefully.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The first thing to do in <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span> is to obtain a
new <span class=SpellE><b style='mso-bidi-font-weight:normal'>ProcessControlBlock</b></span>
and a new <b style='mso-bidi-font-weight:normal'>Thread</b> object.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Next, you’ll need to initialize the following fields in the
PCB: <span class=SpellE><b style='mso-bidi-font-weight:normal'>myThread</b></span>
and <span class=SpellE><b style='mso-bidi-font-weight:normal'>parentsPid</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>(The <span class=SpellE><b
style='mso-bidi-font-weight:normal'>pid</b></span> field should have been
initialized in <span class=SpellE><b style='mso-bidi-font-weight:normal'>GetANewProcess</b></span>.)</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You’ll also need to initialize the following fields in the
new <b style='mso-bidi-font-weight:normal'>Thread</b> object: <b
style='mso-bidi-font-weight:normal'>name</b>, <b style='mso-bidi-font-weight:
normal'>status</b>, and <span class=SpellE><b style='mso-bidi-font-weight:normal'>myProcess</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Recall that a user level program was executing and it did a <b
style='mso-bidi-font-weight:normal'>Fork</b> <span class=SpellE>syscall</span>.<span
style="mso-spacerun: yes">&nbsp; </span>At that point, the state of the
user-level process was contained in the user registers.<span
style="mso-spacerun: yes">&nbsp; </span>These registers have not changed since
the system call.<span style="mso-spacerun: yes">&nbsp; </span>(Well, maybe the
call to <span class=SpellE><b style='mso-bidi-font-weight:normal'>GetANewThread</b></span>
or <span class=SpellE><b style='mso-bidi-font-weight:normal'>GetANewProcess</b></span>
caused this thread to be suspended for a while.<span style="mso-spacerun:
yes">&nbsp; </span>But during any intervening process switches, the user
registers would have been saved and subsequently restored.)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Recall that the BLITZ CPU has 2 sets of registers: system
and user registers.<span style="mso-spacerun: yes">&nbsp; </span>Some of the
time, threads run in system mode (when handling an exception or a <span
class=SpellE>syscall</span>) and some of the time, they run in user mode.<span
style="mso-spacerun: yes">&nbsp; </span>Sometimes we talk about the <b
style='mso-bidi-font-weight:normal'>top-half</b> and the <b style='mso-bidi-font-weight:
normal'>bottom-half</b> of a thread.<span style="mso-spacerun: yes">&nbsp;
</span>The <b style='mso-bidi-font-weight:normal'>top-half</b> is the kernel
part, the part that runs in system mode.<span style="mso-spacerun: yes">&nbsp;
</span>The <b style='mso-bidi-font-weight:normal'>bottom-half</b> is the part
of the thread that runs in user mode.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Next you must grab the values in the user registers and
store a copy of them in the new<i style='mso-bidi-font-style:normal'> </i><b
style='mso-bidi-font-weight:normal'>Thread</b> object.<span
style="mso-spacerun: yes">&nbsp; </span>You can use <span class=SpellE><b
style='mso-bidi-font-weight:normal'>SaveUserRegs</b></span> to do this.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Recall that all <span class=SpellE>syscall</span> handlers
begin running with interrupts disabled.<span style="mso-spacerun: yes">&nbsp;
</span>After getting the user registers, it would be a good idea to re-enable
interrupts so that other threads can share the CPU.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>We are in the middle of starting a new thread and this new
thread will need a system stack.<span style="mso-spacerun: yes">&nbsp;
</span>In terms of the <b style='mso-bidi-font-weight:normal'>bottom-half</b>,
the new thread must be a duplicate of the <b style='mso-bidi-font-weight:normal'>bottom-half</b>
of the current thread, but the <b style='mso-bidi-font-weight:normal'>top-half</b>
need not be the same.<span style="mso-spacerun: yes">&nbsp; </span>In a few
instructions, we are going to do a <b style='mso-bidi-font-weight:normal'>Fork</b>
on this <b style='mso-bidi-font-weight:normal'>Thread</b>.<span
style="mso-spacerun: yes">&nbsp; </span>We don’t need anything from the system
stack of the current thread.<span style="mso-spacerun: yes">&nbsp; </span>So
there is no reason to copy the system stack.<span style="mso-spacerun:
yes">&nbsp; </span>The <span class=SpellE><b style='mso-bidi-font-weight:normal'>systemStack</b></span>
array has already been initialized so there is no need to do that again.<span
style="mso-spacerun: yes">&nbsp; </span>You can simply leave the contents (left
over from some previous thread) in the array.<span style="mso-spacerun:
yes">&nbsp; </span>All you’ll need to do is initialize the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>stackTop</b></span> pointer, which should
be initialized to point to the very last word in the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>systemStack</b></span> array, just as it
was in the <span class=SpellE><b style='mso-bidi-font-weight:normal'>Thread.Init</b></span>
method.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>newThrd.stackTop</span> =
&amp; (<span class=SpellE>newThrd.systemStack</span>[SYSTEM_STACK_SIZE-1])<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>There is no reason to initialize the system registers for
the new top-half.<span style="mso-spacerun: yes">&nbsp; </span>They can just
pick up leftover values from some previous thread.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>In this project, we have not yet implemented the
file-related <span class=SpellE>syscalls</span> (<b style='mso-bidi-font-weight:
normal'>Open</b>, <b style='mso-bidi-font-weight:normal'>Read</b>, <b
style='mso-bidi-font-weight:normal'>Write</b>, <b style='mso-bidi-font-weight:
normal'>Close</b>, etc.), so we don’t have to do anything related to open
files.<span style="mso-spacerun: yes">&nbsp; </span>However, in a future
project, each process will have some open files.<span style="mso-spacerun:
yes">&nbsp; </span>The child process should share the open files of the
parent.<span style="mso-spacerun: yes">&nbsp; </span>In other words, if a file
is open in the parent before the <b style='mso-bidi-font-weight:normal'>Fork</b>,
it should be open in the child after the <b style='mso-bidi-font-weight:normal'>Fork</b>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>So at this point in <span class=SpellE><b style='mso-bidi-font-weight:
normal'>Handle_Sys_Fork</b></span>, it is recommended that you add the
following line:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Don’t forget to copy the <span
class=SpellE>fileDescriptor</span> array here...<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This comment will make sense later.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Next, you’ll need to make a copy of the parent’s virtual
address space.<span style="mso-spacerun: yes">&nbsp; </span>You’ll need to see
how many pages are in the parent’s address space and call <span class=SpellE><b
style='mso-bidi-font-weight:normal'>frameManager.GetNewFrames</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>Then you’ll need to run through each
and copy the page.<span style="mso-spacerun: yes">&nbsp; </span>You can use <span
class=SpellE><b style='mso-bidi-font-weight:normal'>MemoryCopy</b></span> to do
this efficiently.<span style="mso-spacerun: yes">&nbsp; </span>You can use <span
class=SpellE><b style='mso-bidi-font-weight:normal'>AddrSpace.ExtractFrameAddr</b></span>
to determine where the frames are in physical memory.<span style="mso-spacerun:
yes">&nbsp; </span>You’ll also need to set the “writable” bit in the child’s
frame to whatever it was set to in the parent’s frame.<span
style="mso-spacerun: yes">&nbsp; </span>(See <span class=SpellE><b
style='mso-bidi-font-weight:normal'>AddrSpace.IsWritable</b></span>, <span
class=SpellE><b style='mso-bidi-font-weight:normal'>AddrSpace.SetWritable</b></span>,
and <span class=SpellE><b style='mso-bidi-font-weight:normal'>AddrSpace.ClearWritable</b></span>.)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>At this point, you are almost ready to invoke <span
class=SpellE><b style='mso-bidi-font-weight:normal'>Thread.Fork</b></span> to
start the new thread, but there is one more number you’ll need first.<span
style="mso-spacerun: yes">&nbsp; </span>The new thread needs to know where (in
the user-level address space) to resume execution and the parent’s top-half
must determine that value.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>To approach this, ask how does execution return to the
bottom-half after any <span class=SpellE>syscall</span>?<span
style="mso-spacerun: yes">&nbsp; </span>In the case of a <b style='mso-bidi-font-weight:
normal'>Fork</b> <span class=SpellE>syscall</span>, how will the current thread
(the parent process) perform its return to some instruction in the parent’s
virtual address space?</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>When the <span class=SpellE>syscall</span> instruction was
executed, the assembly language <span class=SpellE><b style='mso-bidi-font-weight:
normal'>SyscallTrapHandler</b></span> was called.<span style="mso-spacerun:
yes">&nbsp; </span>It invoked the high-level <span class=SpellE><b
style='mso-bidi-font-weight:normal'>SyscallTrapHandler</b></span> function,
which in turn called <span class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>When we are ready to return, the <span
class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>
function will return to the high-level <span class=SpellE><b style='mso-bidi-font-weight:
normal'>SyscallTraphandler</b></span>, which will return to the assembly <span
class=SpellE><b style='mso-bidi-font-weight:normal'>SyscallTrapHandler</b></span>,
which will execute the “<span class=SpellE>reti</span>” instruction.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>At the very beginning of the Fork processing, a “<span
class=SpellE>sycall</span>” instruction was executed.<span style="mso-spacerun:
yes">&nbsp; </span>When the “<span class=SpellE>syscall</span>” instruction was
executed, the CPU pushed an “exception block” onto the system stack.<span
style="mso-spacerun: yes">&nbsp; </span>Directly before the CPU jumped to the
assembly <span class=SpellE><b style='mso-bidi-font-weight:normal'>SyscallTrapHandler</b></span>,
the system stack looked like this:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>r15--&gt;| Return Address<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>| Status
Register<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>| Except.
Info Word |<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;tab-stops:1.0in'><span
style='font-size:10.0pt;font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>---------------------<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Subsequently, more stuff was pushed onto the stack when the
high-level <span class=SpellE><b style='mso-bidi-font-weight:normal'>SyscallTrapHandler</b></span>
was called and more stuff was pushed when the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span> function was
called, but by the time we return to the point directly before the “<span
class=SpellE>reti</span>” instruction, everything that got pushed will have
been popped.<span style="mso-spacerun: yes">&nbsp; </span>The “<span
class=SpellE>reti</span>” instruction will then pop the 3 words of the
exception block and will use the “return address” to determine where to resume
user-mode execution.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You’ll need to get that return address from the system stack
and you’ll need to get it from within <span class=SpellE><b style='mso-bidi-font-weight:
normal'>Handle_Sys_Fork</b></span>.<span style="mso-spacerun: yes">&nbsp;
</span>Unfortunately, it will be buried somewhere below the top of the system
stack.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<span style='font-size:12.0pt;mso-bidi-font-size:10.0pt;font-family:Times;
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL
style='page-break-before:always'>
</span>

<p class=MsoNormal>Fortunately, there is a function called <span class=SpellE><b
style='mso-bidi-font-weight:normal'>GetOldUserPCFromSystemStack</b></span> in <span
class=SpellE><b style='mso-bidi-font-weight:normal'>Switch.s</b></span>, which
will do exactly what you need.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><span style='font-family:"Courier New"'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>external <span
class=SpellE>GetOldUserPCFromSystemStack</span> () returns <span class=SpellE>int</span><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Here is the assembly code:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
border-bottom:none;mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 0in 4.0pt'>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:1.0pt 4.0pt 0in 4.0pt'><span
style='font-family:Courier'>! <o:p></o:p></span></p>

</div>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 4.0pt 0in 4.0pt'>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
===============<span style="mso-spacerun: yes">&nbsp; </span><span
class=SpellE>GetOldUserPCFromSystemStack</span><span style="mso-spacerun:
yes">&nbsp; </span>===============<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
external <span class=SpellE>GetOldUserPCFromSystemStack</span> () returns <span
class=SpellE>int</span><o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
This routine is called by the kernel after a <span class=SpellE>syscall</span>
has<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
occurred.<span style="mso-spacerun: yes">&nbsp; </span>It expects the assembly <span
class=SpellE>SyscallTrapHandler</span> to have<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
called the high-level <span class=SpellE>SyscallTrapHandler</span>, which then
called<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
<span class=SpellE>Handle_Sys_Fork</span>.<span style="mso-spacerun:
yes">&nbsp; </span>It expects to be called from <span class=SpellE>Handle_Sys_Fork</span>,<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
and will not work properly otherwise.<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
This routine looks down into stuff buried in the system stack<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
and finds the exception block that was pushed onto the stack<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
at the time of the <span class=SpellE>syscall</span>.<span style="mso-spacerun:
yes">&nbsp; </span>From that, it retrieves the user-mode<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
PC, which points to the instruction the kernel must return to<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
after the <span class=SpellE>syscall</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'>!
<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span class=SpellE><span
style='font-family:Courier'>GetOldUserPCFromSystemStack</span></span><span
style='font-family:Courier'>:<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>load<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>[r14],r1<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>! r1 = <span
class=SpellE>ptr</span> to frame of <span class=SpellE>SyscallTrapHandler</span><o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>load<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>[r1+28],r1<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>! r1 = pc from interrupt
block<o:p></o:p></span></p>

<p class=MsoFooter style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 4.0pt 0in 4.0pt'><span style='font-family:Courier'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>store<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span>r1,[r15+4]<o:p></o:p></span></p>

</div>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 4.0pt 1.0pt 4.0pt'>

<p class=MsoFooter style='tab-stops:49.5pt 103.5pt 202.5pt;border:none;
mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 4.0pt 1.0pt 4.0pt'><span
style='font-family:Courier'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ret<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You’ll need to call this function; let’s call the value it
returns, <span class=SpellE><b style='mso-bidi-font-weight:normal'>oldUserPC</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>You’ll need to pass this address to the
<span class=SpellE><b style='mso-bidi-font-weight:normal'>ResumeChildAfterFork</b></span>
function so that the child can use it.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You are now ready to fork the new thread.<span
style="mso-spacerun: yes">&nbsp; </span>As with any fork, you need to provide a
pointer to a function and a single integer argument.<span style="mso-spacerun:
yes">&nbsp; </span>As an argument, you can pass <span class=SpellE><b
style='mso-bidi-font-weight:normal'>oldUserPC</b></span>.<br style='mso-special-character:
line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>newThrd.Fork</span> (<span
class=SpellE>ResumeChildAfterFork</span>, <span class=SpellE>oldUserPC</span>)<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Once you have called <span class=SpellE><b style='mso-bidi-font-weight:
normal'>Thread.Fork</b></span>, the new thread will finish the work of
returning to the child process and will become the thread of the newly created
process.<span style="mso-spacerun: yes">&nbsp; </span>The parent thread is now
ready to return from <span class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>
to the parent user-level process.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Next, let’s look at what you’ll need to do in the <span
class=SpellE><b style='mso-bidi-font-weight:normal'>ResumeChildAfterFork</b></span>
function.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The key piece of info <span class=SpellE><b
style='mso-bidi-font-weight:normal'>ResumeChildAfterFork</b></span><b
style='mso-bidi-font-weight:normal'> </b>needs (besides the info stored in the <b
style='mso-bidi-font-weight:normal'>Thread</b>) is the address in the user
program to return to.<span style="mso-spacerun: yes">&nbsp; </span>This is just
the value returned from <span class=SpellE><b style='mso-bidi-font-weight:normal'>GetOldUserPCFromSystemStack</b></span>
which was passed as an argument to <span class=SpellE><b style='mso-bidi-font-weight:
normal'>ResumeChildAfterFork</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Basically, <span class=SpellE><b style='mso-bidi-font-weight:
normal'>ResumeChildAfterFork</b></span> needs to switch into user mode and jump
to this address.<span style="mso-spacerun: yes">&nbsp; </span>Fortunately, we
have an assembly routine that does just this: <span class=SpellE><b
style='mso-bidi-font-weight:normal'>BecomeUserThread</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Notice that <span class=SpellE><b style='mso-bidi-font-weight:
normal'>ResumeChildAfterFork</b></span> will bear a strong resemblance to the
code in <span class=SpellE><b style='mso-bidi-font-weight:normal'>StartUserProcess</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Every thread begins with interrupts enabled.<span
style="mso-spacerun: yes">&nbsp; </span>Since you will need to do things that
might involve race conditions, you should begin by disabling interrupts.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Next, you’ll need to initialize the page table registers to
point to the page table for the child process, so invoke <span class=SpellE><b
style='mso-bidi-font-weight:normal'>AddrSpace.SetToThisPageTable</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Then, you’ll need to set the user registers before returning
to user mode.<span style="mso-spacerun: yes">&nbsp; </span>You have the values
of the registers (stored in the Thread object) but you need to copy these
values into the registers.<span style="mso-spacerun: yes">&nbsp; </span>This is
exactly what the <span class=SpellE><b style='mso-bidi-font-weight:normal'>RestoreUserRegs</b></span>
function does.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You’ll also need to set <span class=SpellE><b
style='mso-bidi-font-weight:normal'>isUserThread</b></span> to true.<span
style="mso-spacerun: yes">&nbsp; </span>[The <span class=SpellE><b
style='mso-bidi-font-weight:normal'>isUserThread</b></span> field in <b
style='mso-bidi-font-weight:normal'>Thread</b> is used for one thing: to
determine whether the user registers should be saved and restored every time a
context switch occurs.<span style="mso-spacerun: yes">&nbsp; </span>This
variable is consulted only in the <b style='mso-bidi-font-weight:normal'>Run</b>
function just before and after calling <b style='mso-bidi-font-weight:normal'>Switch</b>.]</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Once you begin executing the user-level code, you’ll want an
empty system stack.<span style="mso-spacerun: yes">&nbsp; </span>You can
compute the initial value for the system stack top just as you did in <span
class=SpellE><b style='mso-bidi-font-weight:normal'>StartUserProcess</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The initial value for the user stack top has been stored in
user register <b style='mso-bidi-font-weight:normal'>r15</b>, which was stored
in the <b style='mso-bidi-font-weight:normal'>Thread</b> object by <span
class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Finally, you can jump into the user-level process with the
following:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span class=SpellE>BecomeUserThread</span> (<span
class=SpellE>initUserStackTop</span>,<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Initial Stack<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=SpellE>initPC</span>,<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>-- Initial PC<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=SpellE>initSystemStackTop</span>)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>-- Initial System Stack<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>Recall that we need to return <span
class=SpellE>pid</span>=0 to the child process.<span style="mso-spacerun:
yes">&nbsp; </span>To see how to do this, we need to see how any value is
returned from any <span class=SpellE>syscall</span>.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>Look at it from the user-level code’s
point-of-view.<span style="mso-spacerun: yes">&nbsp; </span>The user-level code
executed a “<span class=SpellE>syscall</span>” instruction and, after the
kernel has returned, the user code will expect the return value to have been
placed in user register <b style='mso-bidi-font-weight:normal'>r1</b>.<span
style="mso-spacerun: yes">&nbsp; </span>See <span class=SpellE><b
style='mso-bidi-font-weight:normal'>DoSyscall</b></span> in <span class=SpellE><b
style='mso-bidi-font-weight:normal'>UserRuntime.s</b></span> for details.)</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>When you invoke <span class=SpellE><b
style='mso-bidi-font-weight:normal'>BecomeUserThread</b></span>, a jump will be
made to the instruction immediately after the <span class=SpellE>syscall</span>.<span
style="mso-spacerun: yes">&nbsp; </span>All the registers and the entire
address space will be identical to what they were before the <span
class=SpellE>syscall</span> was executed (in the parent), so the child will see
this as a normal “return” from a kernel <span class=SpellE>syscall</span>.<span
style="mso-spacerun: yes">&nbsp; </span>The instructions just after the <span
class=SpellE>syscall</span> will fetch the value in <b style='mso-bidi-font-weight:
normal'>r1</b> and return it to the high-level KPL <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Sys_Fork</b></span> function.<span
style="mso-spacerun: yes">&nbsp; </span>So all you have to do in the kernel is
make sure the right value (namely, zero) is in user register <b
style='mso-bidi-font-weight:normal'>r1</b>.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>Luckily for you, <span class=SpellE><b
style='mso-bidi-font-weight:normal'>BecomeUserThread</b></span> just happens to
store a zero in user register <b style='mso-bidi-font-weight:normal'>r1</b>
right before making the jump into user-land.<span style="mso-spacerun:
yes">&nbsp; </span>(Do you suppose this was a coincidence???)<span
style="mso-spacerun: yes">&nbsp; </span>This will cause the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Sys_Fork</b></span> user-level function to
get a returned result of zero, which it returns as a <span class=SpellE>pid</span>
to distinguish the child from the parent.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Next, let’s talk about two subtleties in the implementation
of the <span class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>First, consider this race possibility: Let’s say your code
in <span class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>
ends by invoking <b style='mso-bidi-font-weight:normal'>Fork</b> to start the
new thread running and then returning <span class=SpellE><b style='mso-bidi-font-weight:
normal'>newThrd.pid</b></span>.<span style="mso-spacerun: yes">&nbsp; </span>So
the last lines in <span class=SpellE><b style='mso-bidi-font-weight:normal'>Handle_Sys_Fork</b></span>
might be something like this:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>newThrd.Fork</span> (<span
class=SpellE>ResumeChildAfterFork</span>, <span class=SpellE>oldUserPC</span>)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>return <span class=SpellE>newPCB.pid</span><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Now suppose that right after <b style='mso-bidi-font-weight:
normal'>Fork</b> is invoked, the child gets scheduled before the parent gets to
do the return.<span style="mso-spacerun: yes">&nbsp; </span>What if the child
starts up, finishes the <span class=SpellE>syscall</span>, returns to the user
program, and then the user-level child process runs all the way to completion
and the child process terminates altogether?<span style="mso-spacerun:
yes">&nbsp; </span>Could the PCB be returned to the free pool, then reallocated
to some other process and have a new <span class=SpellE><b style='mso-bidi-font-weight:
normal'>pid</b></span> value stored in it, before the parent gets to execute
its return statement?<span style="mso-spacerun: yes">&nbsp; </span>When the
parent finally resumes, might it grab the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>pid</b></span> out of the PCB (getting a
wrong value!) and return that (wrong) <span class=SpellE><b style='mso-bidi-font-weight:
normal'>pid</b></span> to the user-level code?</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>No, this cannot happen.<span style="mso-spacerun:
yes">&nbsp; </span>The child may terminate before the parent fetches the <span
class=SpellE>pid</span> out of the PCB but child PCB will become a zombie and
will not be given to another process until after the parent terminates.<span
style="mso-spacerun: yes">&nbsp; </span>See the discussion of Zombies below for
details.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Second, consider in more detail the call to <span
class=SpellE><b style='mso-bidi-font-weight:normal'>RestoreUserRegs</b></span>
and the assignment of true to <span class=SpellE><b style='mso-bidi-font-weight:
normal'>isUserThread</b></span>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Once you set <span class=SpellE><b style='mso-bidi-font-weight:
normal'>isUserThread</b></span> to true, any time there is a context switch,
the user registers will be copied to the <b style='mso-bidi-font-weight:normal'>Thread</b>
object (overwriting anything stored there!) as part of a switch from one thread
to another.<span style="mso-spacerun: yes">&nbsp; </span>Therefore, you must
call <span class=SpellE><b style='mso-bidi-font-weight:normal'>RestoreUserRegisters</b></span><span
style="mso-spacerun: yes">&nbsp; </span>before setting <span class=SpellE><b
style='mso-bidi-font-weight:normal'>isUserThread</b></span> to true, or else a
timer interrupt might cause a thread switch, which would wipe out the user
register data stored in the <b style='mso-bidi-font-weight:normal'>Thread</b>
object, if it happened to occur before the call to <span class=SpellE><b
style='mso-bidi-font-weight:normal'>RestoreUserRegs</b></span> completed.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>One the other hand, if you call <span class=SpellE><b
style='mso-bidi-font-weight:normal'>RestoreUserRegs</b></span> before setting <span
class=SpellE><b style='mso-bidi-font-weight:normal'>isUserThread</b></span> to
true, it is possible that a context switch could occur after initializing the
user registers but before you set <span class=SpellE><b style='mso-bidi-font-weight:
normal'>isUserThread</b></span> to true.<span style="mso-spacerun: yes">&nbsp;
</span>The thread scheduler will see that <span class=SpellE><b
style='mso-bidi-font-weight:normal'>isUserThread</b></span> is false and will
not save the user registers.<span style="mso-spacerun: yes">&nbsp; </span>Any
intervening processes might change the user registers.<span
style="mso-spacerun: yes">&nbsp; </span>Again, the register values get lost!</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>It seems that both orders are subject to a race bug, but
there is a simple solution.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>Recall that every thread initially
begins with interrupts enabled.<span style="mso-spacerun: yes">&nbsp;
</span>The solution is to disable interrupts in <span class=SpellE><b
style='mso-bidi-font-weight:normal'>ResumeChildAfterFork</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>Then there is no possibility of a
context switch between the call to <span class=SpellE><b style='mso-bidi-font-weight:
normal'>RestoreUserRegs</b></span> and setting <span class=SpellE><b
style='mso-bidi-font-weight:normal'>isUserThread</b></span> to true.<span
style="mso-spacerun: yes">&nbsp; </span>Also recall that <span class=SpellE><b
style='mso-bidi-font-weight:normal'>BecomeUserThread</b></span> will <span
class=SpellE>reenable</span> interrupts as part of the process of resuming
execution in user mode.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3>The Semantics of Join and Exit: Why Zombies are Needed</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Just as in Unix, when a process terminates, it provides an
exit code.<span style="mso-spacerun: yes">&nbsp; </span>This is provided in the
call to <span class=SpellE><b style='mso-bidi-font-weight:normal'>Sys_Exit</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>For a “normal” termination, the
convention is that zero is returned.<span style="mso-spacerun: yes">&nbsp;
</span>The PCB contains a field to contain this value, called <span
class=SpellE><b style='mso-bidi-font-weight:normal'>exitStatus</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>Your kernel must keep the PCB around to
hold this value until it is no longer needed.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Once a process terminates, the kernel can release all of its
resources, such as the <b style='mso-bidi-font-weight:normal'>Thread</b> object
and any <span class=SpellE><b style='mso-bidi-font-weight:normal'>OpenFile</b></span>
or FCB objects that are no longer needed.<span style="mso-spacerun: yes">&nbsp;
</span>Only the PCB needs to remain around.<span style="mso-spacerun:
yes">&nbsp; </span>The PCB then becomes a “zombie.”<span style="mso-spacerun:
yes">&nbsp; </span>A zombie is a creature that has stopped living but is not
quite dead.<span style="mso-spacerun: yes">&nbsp; </span>(In real life, zombies
roam the earth at night terrorizing teenagers staying in remote cabins.)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>When can a zombie PCB be freed?<span style="mso-spacerun:
yes">&nbsp; </span>Whenever (1) its parent either dies or becomes a zombie
itself, or (2) its parent executes a join and takes the exit status, or (3) its
parent doesn’t even exist.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The following approach is recommended:<span
style="mso-spacerun: yes">&nbsp; </span>First, ignore the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>ProcessManager.FreeProcess</b></span><b
style='mso-bidi-font-weight:normal'> </b>method.<span style="mso-spacerun:
yes">&nbsp; </span>In other words, either get rid of it or just don’t ever call
it.<span style="mso-spacerun: yes">&nbsp; </span>(We asked you to write it so
it could be used to test <span class=SpellE><b style='mso-bidi-font-weight:
normal'>ProcessManager.GetANewProcess</b></span>.)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>[By the way, whenever you have a routine you wish to keep
but will not ever use, I recommend placing a line like this as the first
statement:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>method <span class=SpellE>FreeProcess</span>
(p: <span class=SpellE>ptr</span> to <span class=SpellE>ProcessControlBlock</span>)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span class=SpellE>FatalError</span>
(&quot;Never called&quot;)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Courier'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;
</span><span class=SpellE>endMethod</span><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This way, you still have the code in case you change your
mind, but it is clear when reading your code that it is not used.<span
style="mso-spacerun: yes">&nbsp; </span>Also, if you make a mistake and try to
use the routine, you’ll get an immediate error.]</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Second, add two new methods to <span class=SpellE><b
style='mso-bidi-font-weight:normal'>ProcessManager</b></span>: <span
class=SpellE><b style='mso-bidi-font-weight:normal'>TurnIntoZombie</b></span>
and <span class=SpellE><b style='mso-bidi-font-weight:normal'>WaitForZombie</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>Also, you’ll need to implement the <span
class=SpellE><b style='mso-bidi-font-weight:normal'>ProcessFinish</b></span>
function.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<b style='mso-bidi-font-weight:normal'><u><span style='font-size:12.0pt;
mso-bidi-font-size:10.0pt;font-family:Times;mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US'><br clear=ALL style='page-break-before:always'>
</span></u></b>

<p class=MsoNormal style='margin-left:.25in'><b style='mso-bidi-font-weight:
normal'><u>function <span class=SpellE>ProcessFinish</span> (<span
class=SpellE>exitStatus</span>: <span class=SpellE>int</span>)<o:p></o:p></u></b></p>

<p class=MsoNormal style='margin-left:.25in'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoBodyTextIndent2>This function is called when a process is to be
terminated.<span style="mso-spacerun: yes">&nbsp; </span>This function is
called by the process’s thread.<span style="mso-spacerun: yes">&nbsp; </span>It
will free all resources held by this process and will terminate the current
thread.<span style="mso-spacerun: yes">&nbsp; </span>The PCB will be turned
into a zombie.<span style="mso-spacerun: yes">&nbsp; </span>This method will
have to do the following...</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>First, save the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>exitStatus</b></span> in the PCB.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, disable interrupts.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, disconnect the PCB and the Thread, i.e., set <span
class=SpellE><b style='mso-bidi-font-weight:normal'>myProcess</b></span> and <span
class=SpellE><b style='mso-bidi-font-weight:normal'>myThread</b></span> to
null.<span style="mso-spacerun: yes">&nbsp; </span>Also, set <span
class=SpellE><b style='mso-bidi-font-weight:normal'>isUserThread</b></span> to
false.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, <span class=SpellE>reenable</span>
interrupts.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, close any open files.<span
style="mso-spacerun: yes">&nbsp; </span>(For the next project.)</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, return all page frames to the free pool, by
calling <span class=SpellE><b style='mso-bidi-font-weight:normal'>frameManager.ReturnAllFrames</b></span>.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, invoke <span class=SpellE><b
style='mso-bidi-font-weight:normal'>TurnIntoZombie</b></span> on this PCB.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Finally, invoke <span class=SpellE><b
style='mso-bidi-font-weight:normal'>ThreadFinish</b></span>.</p>

<p class=MsoBodyTextIndent2 style='margin-left:0in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.25in'><b style='mso-bidi-font-weight:
normal'><u>method <span class=SpellE>TurnIntoZombie</span> (p: <span
class=SpellE>ptr</span> to <span class=SpellE>ProcessControlBlock</span>)<o:p></o:p></u></b></p>

<p class=MsoNormal style='margin-left:.25in'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoBodyTextIndent2>This method is passed p, a pointer to a
process;<span style="mso-spacerun: yes">&nbsp; </span>It turns it into a zombie
- dead but not gone! - so that its <span class=SpellE><b style='mso-bidi-font-weight:
normal'>exitStatus</b></span> can be retrieved if needed by its parent.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>First, lock the process manager since you’ll be
messing with other PCBs.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, identify all children of this process who are
zombies; These children are now no longer needed so for each zombie child,
change its status to <b style='mso-bidi-font-weight:normal'>FREE</b> and add it
back to the PCB free list.<span style="mso-spacerun: yes">&nbsp; </span>Don’t
forget to signal the <span class=SpellE><b style='mso-bidi-font-weight:normal'>aProcessBecameFree</b></span>
condition variable, since other threads may be waiting for free PCBs.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Next, identify <span class=SpellE><b
style='mso-bidi-font-weight:normal'>p</b>’s</span> parent.<span
style="mso-spacerun: yes">&nbsp; </span>(Note, the parent may have already
terminated, so there might not be a parent.)</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>If <span class=SpellE><b style='mso-bidi-font-weight:
normal'>p</b>’s</span> parent is ACTIVE, then this method must turn <b
style='mso-bidi-font-weight:normal'>p</b> into a zombie.<span
style="mso-spacerun: yes">&nbsp; </span>Execute a <b style='mso-bidi-font-weight:
normal'>Broadcast</b> on the <span class=SpellE><b style='mso-bidi-font-weight:
normal'>aProcessDied</b></span> condition variable, because the parent of <b
style='mso-bidi-font-weight:normal'>p</b> may be waiting for <b
style='mso-bidi-font-weight:normal'>p</b> to exit.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Otherwise (i.e., if our parent is a zombie or is
non-existent) then we do not need to turn <b style='mso-bidi-font-weight:normal'>p</b>
into a zombie, so just change <span class=SpellE><b style='mso-bidi-font-weight:
normal'>p</b>’s</span> status to <b style='mso-bidi-font-weight:normal'>FREE</b>,
add it to the PCB free list, and signal the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>aProcessBecameFree</b></span> condition
variable.</p>

<p class=MsoBodyTextIndent2><o:p>&nbsp;</o:p></p>

<p class=MsoBodyTextIndent2>Finally, unlock the process manager.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='margin-left:.25in'><b style='mso-bidi-font-weight:
normal'><u>method <span class=SpellE>WaitForZombie</span> (proc: <span
class=SpellE>ptr</span> to <span class=SpellE>ProcessControlBlock</span>)
returns <span class=SpellE>int</span><o:p></o:p></u></b></p>

<p class=MsoNormal style='margin-left:.25in'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='margin-left:.5in'>This method is passed a pointer to
a process;<span style="mso-spacerun: yes">&nbsp; </span>It waits for that
process to turn into a zombie.<span style="mso-spacerun: yes">&nbsp;
</span>Then it saves its <span class=SpellE><b style='mso-bidi-font-weight:
normal'>exitStatus</b></span> and adds the PCB back to the free list.<span
style="mso-spacerun: yes">&nbsp; </span>Finally, it returns the <span
class=SpellE><b style='mso-bidi-font-weight:normal'>exitStatus</b></span>.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>First, lock the process manager.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Next, wait until the status of <b
style='mso-bidi-font-weight:normal'>proc</b> is ZOMBIE, using a while loop and
the <span class=SpellE><b style='mso-bidi-font-weight:normal'>aProcessDied</b></span>
condition variable.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Next, fetch <span class=SpellE><b
style='mso-bidi-font-weight:normal'>proc</b>’s</span> <span class=SpellE><b
style='mso-bidi-font-weight:normal'>exitStatus</b></span>.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Next, change <span class=SpellE><b
style='mso-bidi-font-weight:normal'>proc</b>’s</span> status to <b
style='mso-bidi-font-weight:normal'>FREE</b>, add it to the PCB free list, and
signal the <span class=SpellE><b style='mso-bidi-font-weight:normal'>aProcessBecameFree</b></span>
condition variable.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Finally, unlock the process manager
and return the exit status.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><span class=SpellE><b
style='mso-bidi-font-weight:normal'>Handle_Sys_Exit</b></span> is now
straightforward to implement: just call <span class=SpellE><b style='mso-bidi-font-weight:
normal'>ProcessFinish</b></span>, which will store the exit status in the PCB and
free all resources except the PCB.<span style="mso-spacerun: yes">&nbsp;
</span><span class=SpellE><b style='mso-bidi-font-weight:normal'>ProcessFinish</b></span>
will also free the PCB too if it is not needed.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><span class=SpellE><b
style='mso-bidi-font-weight:normal'>Handle_Sys_Join</b></span> is also fairly
straightforward.<span style="mso-spacerun: yes">&nbsp; </span>First, you have
to identify the child process and make sure that the <span class=SpellE><b
style='mso-bidi-font-weight:normal'>pid</b></span> that is passed in is the <span
class=SpellE><b style='mso-bidi-font-weight:normal'>pid</b></span> of a valid
process and that it is truly a child of this process.<span style="mso-spacerun:
yes">&nbsp; </span>(If not, the kernel should return &#8211;1 to the
caller.)<span style="mso-spacerun: yes">&nbsp; </span>Then you can call <span
class=SpellE><b style='mso-bidi-font-weight:normal'>WaitForZombie</b></span>
and return whatever it returns.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>Implementing Sys-Yield</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>There is not really a need for a <b style='mso-bidi-font-weight:
normal'>Yield</b> <span class=SpellE>syscall</span> in any OS that has
preemptive scheduling, but it is helpful in testing, to make sure that other
processes are really running.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Within <span class=SpellE><b style='mso-bidi-font-weight:
normal'>Handle_Sys_Yield</b></span>, you can simply invoke <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Thread.Yield</b></span> on the current
thread and return.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>When executed, the scheduler will be invoked and other
threads will get a chance to run.<span style="mso-spacerun: yes">&nbsp;
</span>Sometime later, this thread will run again (when the call to <b
style='mso-bidi-font-weight:normal'>Yield</b> returns) and a return will be
made to the user-level code.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<b style='mso-bidi-font-weight:normal'><u><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Times;mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US'><br clear=ALL style='page-break-before:always'>
</span></u></b>

<h3>Optional Enhancement</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You might want to consider modifying the exception handlers
(such as <span class=SpellE><b style='mso-bidi-font-weight:normal'>AddressExceptionHandler</b></span>)
so that they print the <span class=SpellE><b style='mso-bidi-font-weight:normal'>pid</b></span>
of the offending process, instead of the thread name, which will always be
“UserProgram.”)</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>The User-Level Programs</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The <b style='mso-bidi-font-weight:normal'>p6</b> directory
contains the following user-level programs:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:.25in 1.5in'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><b
style='mso-bidi-font-weight:normal'>MyProgram</b></span><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- For you to use
during debugging</p>

<p class=MsoNormal style='tab-stops:.25in 1.5in'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b style='mso-bidi-font-weight:normal'>TestProgram1</b><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Do not modify</p>

<p class=MsoNormal style='tab-stops:.25in 1.5in'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b style='mso-bidi-font-weight:normal'>TestProgram2</b><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Do not modify</p>

<p class=MsoNormal style='tab-stops:.25in 1.5in'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b style='mso-bidi-font-weight:normal'>TestProgram3</b><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- Do not modify</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>You may modify <span class=SpellE><b style='mso-bidi-font-weight:
normal'>MyProgram</b></span> any way you wish while testing.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The remaining three programs constitute my test suite.<span
style="mso-spacerun: yes">&nbsp; </span><b style='mso-bidi-font-weight:normal'>TestProgram1</b>
and <b style='mso-bidi-font-weight:normal'>TestProgram2</b> are from the last
project while <b style='mso-bidi-font-weight:normal'>TestProgram3</b> contains
the new tests for this project.<b style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>What to Hand In</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The <b style='mso-bidi-font-weight:normal'>TestProgram3</b>
main function looks like this:</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun: yes">&nbsp; </span>function
main ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- <span class=SpellE>SysExitTest</span>
()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- <span class=SpellE>BasicForkTest</span>
()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="mso-spacerun: yes">&nbsp;</span>-- <span class=SpellE>YieldTest</span>
()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- <span class=SpellE>ForkTest</span>
()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- JoinTest1 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- JoinTest2 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- JoinTest3 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- JoinTest4 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- ManyProcessesTest1 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- ManyProcessesTest2 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- ManyProcessesTest3 ()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-- <span class=SpellE>ErrorTest</span>
()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>Sys_Exit</span>
(0)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
font-family:Courier'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>endFunction</span><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>An individual test can be run by <span
class=SpellE>uncommenting</span> the appropriate line, compiling the code, and
running it.<span style="mso-spacerun: yes">&nbsp; </span>For example, to run
the “basic fork” test, uncomment the line that calls <span class=SpellE><b
style='mso-bidi-font-weight:normal'>BasicForkTest</b></span>, compile, and
run.<span style="mso-spacerun: yes">&nbsp; </span>To run another test, go back
and re-comment the <span class=SpellE><b style='mso-bidi-font-weight:normal'>BasicForkTest</b></span>
and uncomment some other line.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>After you have finished coding,
please run each test once and hand in the output from each test.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>Use the same code to execute all
tests.<span style="mso-spacerun: yes">&nbsp; </span>Please hand in only one
copy of your <span class=SpellE><b style='mso-bidi-font-weight:normal'>Kernel.c</b></span>
file and do not hand in any output that was produced by a different version of
your code!<span style="mso-spacerun: yes">&nbsp; </span>[You should never tweak
your code to pass tests; this is a symptom of a non-functional program.]<span
style="mso-spacerun: yes">&nbsp; </span>The goal is to create one program that
can pass all the tests we can throw at it.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><i style='mso-bidi-font-style:normal'><u>Do
not change <b style='mso-bidi-font-weight:normal'>TestProgram3</b></u></i>,
except to uncomment one of the lines in the <b style='mso-bidi-font-weight:
normal'>main</b> function.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>During your testing, it may be
convenient to modify the tests as you try to see what is going on and get
things to work.<span style="mso-spacerun: yes">&nbsp; </span>Before you make
your final test runs, <u>please recopy <b style='mso-bidi-font-weight:normal'>TestProgram3.c</b>
from our directory</u>, so that you get a fresh, unaltered version.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>Please hand in hardcopy of <span
class=SpellE><b style='mso-bidi-font-weight:normal'>Kernel.c</b></span>.<span
style="mso-spacerun: yes">&nbsp; </span>You only need to hand in...</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>Handle_Sys_Exit</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>Handle_Sys_Join</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>Handle_Sys_Fork</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>Handle_Sys_Yield</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>ResumeChildAfterFork</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>ProcessFinish</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>TurnIntoZombie</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>WaitForZombie</span><o:p></o:p></b></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'>and any other code you wrote /
modified.</p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoFooter style='tab-stops:.5in'><o:p>&nbsp;</o:p></p>

<h3>Sample Output</h3>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>If your program works correctly, you should see something
like this:</p>

<h3><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
border-bottom:none;mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:1.0pt 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-top-alt:solid windowtext .5pt;
mso-border-left-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 5.0pt 0in 5.0pt'><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

</div>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>SysExitTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>About to
terminate the only process; should cause the OS to stop on a 'wait'
instruction.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>BasicForkTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>I am the
parent<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>I am the
child<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>YieldTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
involves calls to Fork, Yield, and Exit.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>RUN ONE:
You should see 10 'compiler' messages and 10 'OS' messages.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>RUN TWO:
You should see the same 20 messages, but the order should be different, due to
the presence of 'Yield's.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Writing
OS kernel code is a blast!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Designing
compilers is fun!<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>ForkTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
involves calls to Fork, Yield, and Exit.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>There
should be 26 columns (A-Z) printed.<span style="mso-spacerun: yes">&nbsp;
</span>Each letter should be printed 5 times.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;</span>B<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;</span>B<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>C<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>C<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;</span>B<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>D<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>C<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>D<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;</span>B<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>D<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>C<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;</span>B<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>D<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>E<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>C<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>E<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>E<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>D<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>F<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>F<o:p></o:p></span></p>

</div>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...A
BUNCH OF STUFF, DELETED IN THIS DOCUMENT...<o:p></o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>W<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>W<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>U<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>V<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>W<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>X<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>X<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>V<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>W<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>X<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Y<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Y<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>W<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>X<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Y<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Z<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Z<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>X<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Y<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Z<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Y<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Z<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Z<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>JoinTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> 1 running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
involves calls to Fork, Yield, and Exit.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Running
first test...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This line
should print first.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This line
should print second.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Running
second test...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This line
should print first.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This line
should print second.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>JoinTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> 2 running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
involves calls to Fork, Yield, and Exit.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Creating
5 children...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 1
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 2
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 3
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 4
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Waiting
for children in order 1, 2, 3, 4, 5...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 5
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Creating
5 more children...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 1
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 2
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 3
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 4
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Waiting
for children in order 5, 4, 1, 3, 2...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 5
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>JoinTest3
running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
involves 5 illegal calls to <span class=SpellE>Sys_Join</span>, waiting on
non-existent children.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>In each
case, it prints the return code, which should be -1.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Return
code from 1st call = -1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Return
code from 2nd call = -1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Return
code from 3rd call = -1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Return
code from 4th call = -1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Return
code from 5th call = -1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial handler
thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>JoinTest4
running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>This test forks a child process
and then waits on it twice.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>The first call to <span
class=SpellE>Sys_Join</span> should return its error code; the<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>second call to <span
class=SpellE>Sys_Join</span> should return -1.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>The PID
of the child = 2<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This
should print first.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This
should print second.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Okay (1).<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Okay (2).<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This
should print first.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>The PID
of the child = 3<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This
should print second.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Okay (3).<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Okay (4).<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>In the next test, we create 2
children, and each creates 2 children,<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;</span>giving 7 processes in all.<span style="mso-spacerun:
yes">&nbsp; </span>Then each process attempts a <span class=SpellE>Sys_Join</span>
on<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>every process except its own
children, to make sure the result is -1.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>Finally, each process with
children waits on them.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>My first<span style="mso-spacerun:
yes">&nbsp; </span>child is A.B<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>pid1 = 4<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>My second child is A.C<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>pid2 = 5<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B.D is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C.F is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>My first<span style="mso-spacerun:
yes">&nbsp; </span>child is A.C.F<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>pid1 = 7<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>My second child is A.C.G<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>pid2 = 9<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C.G is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>My first<span style="mso-spacerun:
yes">&nbsp; </span>child is A.B.D<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>pid1 = 6<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>My second child is A.B.E<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>pid2 = 8<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B.E is
running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>---------------<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A done
with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C.F
done with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C done
with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C.G
done with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B.E
done with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B done
with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B.D
done with error tests...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>-----------------------------------A
is waiting on A.B<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>pid1 = 4<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>-----------------------------------A.C
is waiting on A.C.F<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>pid1 = 7<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>-----------------------------------A.B
is waiting on A.B.D<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>pid1 = 6<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C.F is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>-----------------------------------A.C
is waiting on A.C.G<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>pid2 = 9<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C.G is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.C is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B.E is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B.D is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>-----------------------------------A.B
is waiting on A.B.E<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>pid2 = 8<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A.B is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>-----------------------------------A
is waiting on A.C<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>pid2 = 5<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>A is
done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>ManyProcessesTest1
running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
should create 100 child processes.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>It should
print 100 lines of output.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 2<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 3<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 4<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 5<o:p></o:p></span></p>

</div>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...A
BUNCH OF STUFF, DELETED IN THIS DOCUMENT...<o:p></o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 92<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 93<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 94<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 95<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 96<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 97<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 98<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 99<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Child 100<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>ManyProcessesTest2
running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
attempts to create 9 new processes.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>It should
print a line for each process and then it should print 123.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 0<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 2<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 3<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 4<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 5<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 6<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 7<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 8<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 9<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Final
return value = 123<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>ManyProcessesTest3
running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>This test
attempts to create 10 new processes.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>It should
run out of resources and hang.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 0<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 1<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 2<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 3<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 4<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 5<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 6<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 7<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 8<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Process 9<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span
style="mso-spacerun: yes">&nbsp; </span>A 'wait' instruction was executed and
no more interrupts are scheduled... halting emulation<span style="mso-spacerun:
yes">&nbsp; </span>*****<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>===================<span
style="mso-spacerun: yes">&nbsp; </span>KPL PROGRAM STARTING<span
style="mso-spacerun: yes">&nbsp; </span>===================<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Scheduler...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Process Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Thread Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Frame Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>AllocateRandomFrames</span></span><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'> called.<span
style="mso-spacerun: yes">&nbsp; </span>NUMBER_OF_PHYSICAL_PAGE_FRAMES = 512<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Disk Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
Serial Driver...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Initializing
File Manager...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Serial
handler thread running...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Loading
initial program...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
class=SpellE><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:
Courier'>ErrorTest</span></span><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt;font-family:Courier'> running.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Should
print &quot;An <span class=SpellE>AddressException</span> exception has <span
class=SpellE>occured</span> while in user mode&quot;...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>**********<span
style="mso-spacerun: yes">&nbsp; </span>An <span class=SpellE>AddressException</span>
exception has <span class=SpellE>occured</span> while in user mode<span
style="mso-spacerun: yes">&nbsp; </span>**********<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span><span class=SpellE>ProcessControlBlock</span><o:p></o:p></span></p>

</div>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...A
BUNCH OF STUFF, DELETED IN THIS DOCUMENT...<o:p></o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>Thread &quot;<span class=SpellE>UserProgram</span>&quot;<o:p></o:p></span></p>

</div>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...A
BUNCH OF STUFF, DELETED IN THIS DOCUMENT...<o:p></o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Okay.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Should
print &quot;A <span class=SpellE>PageReadonlyException</span> exception has <span
class=SpellE>occured</span> while in user mode&quot;...<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>**********<span
style="mso-spacerun: yes">&nbsp; </span>A <span class=SpellE>PageReadonlyException</span>
exception has <span class=SpellE>occured</span> while in user mode<span
style="mso-spacerun: yes">&nbsp; </span>**********<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span><span class=SpellE>ProcessControlBlock</span><o:p></o:p></span></p>

</div>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...A
BUNCH OF STUFF, DELETED IN THIS DOCUMENT...<o:p></o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><span
style="mso-spacerun: yes">&nbsp; </span>Thread &quot;<span class=SpellE>UserProgram</span>&quot;<o:p></o:p></span></p>

</div>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>...A
BUNCH OF STUFF, DELETED IN THIS DOCUMENT...<o:p></o:p></i></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<div style='mso-element:para-border-div;border-top:none;border-left:solid windowtext 1.0pt;
border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 0in 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Okay.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'>Done.<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-right-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:0in 5.0pt 0in 5.0pt'><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>

</div>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.0pt 1.0pt 5.0pt'>

<p class=MsoNormal style='border:none;mso-border-left-alt:solid windowtext .5pt;
mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:0in 5.0pt 1.0pt 5.0pt'><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt;font-family:Courier'>*****<span style="mso-spacerun:
yes">&nbsp; </span>A 'wait' instruction was executed and no more interrupts are
scheduled... halting emulation<span style="mso-spacerun: yes">&nbsp;
</span>*****<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
